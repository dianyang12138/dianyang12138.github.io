<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="后端Java工程师"><title>python笔记 | dian的博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">python笔记</h1><a id="logo" href="/.">dian的博客</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">python笔记</h1><div class="post-meta">2019-12-22</div><div class="post-content"><a id="more"></a>

<h2 id="变量、常量、注释"><a href="#变量、常量、注释" class="headerlink" title="变量、常量、注释"></a>变量、常量、注释</h2><p>变量名推荐</p>
<ul>
<li>驼峰体：ageOfName</li>
<li>下划线：age_of_name</li>
</ul>
<p>常量：全部大写，放在最上面。可以改变，但是不要去改变。约定俗成</p>
<p>AGE_OF_NAME</p>
<p>注释：</p>
<ul>
<li>#：单行注释</li>
<li>‘’’内容’’’：多行注释</li>
<li>“”“内容”“”：多行注释</li>
</ul>
<h2 id="基础类型、输入"><a href="#基础类型、输入" class="headerlink" title="基础类型、输入"></a>基础类型、输入</h2><h3 id="基础类型"><a href="#基础类型" class="headerlink" title="基础类型"></a>基础类型</h3><ul>
<li><p>str：字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s1=<span class="string">'1'</span></span><br><span class="line">s2=<span class="string">"1"</span></span><br><span class="line">s3=<span class="string">'''3'''</span> <span class="comment">#三引号可以写换行的字符串，</span></span><br></pre></td></tr></table></figure>

<ul>
<li>str+str：拼接</li>
<li>str*int：重复</li>
<li>非空即使true</li>
</ul>
</li>
<li><p>int：64位上<code>-2**63~2**63-1</code></p>
<ul>
<li>bit_lenth：有效的二进制长度</li>
</ul>
</li>
<li><p>bool：True、False</p>
<ul>
<li>非零就是True</li>
</ul>
</li>
<li><p>list：<code>[1,2,3]</code></p>
<ul>
<li>range：类似于列表，自定制数字范围的数字列表</li>
</ul>
</li>
<li><p>tuple：不可变<code>(1,2,3)</code></p>
</li>
<li><p>dict：<code>{&#39;name&#39;:&#39;wo&#39;}</code></p>
</li>
<li><p>set：交集</p>
</li>
</ul>
<blockquote>
<p>可变（不可哈希）：list dict set</p>
<p>不可变（可哈希）：str bool int tuple</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int(str)<span class="comment">#强转</span></span><br><span class="line">str(int)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>type()来判断数据类型</p>
</blockquote>
<h4 id="str的操作方法"><a href="#str的操作方法" class="headerlink" title="str的操作方法"></a>str的操作方法</h4><h5 id="索引、切片、步长"><a href="#索引、切片、步长" class="headerlink" title="索引、切片、步长"></a>索引、切片、步长</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">str=<span class="string">"左手右手，一个慢动作"</span></span><br><span class="line">print(str[<span class="number">1</span>])<span class="comment">#手，下标从0开始</span></span><br><span class="line">print(str[<span class="number">-1</span>])<span class="comment">#作，-1从最后一个开始</span></span><br><span class="line">print(str[<span class="number">1</span>:<span class="number">4</span>])<span class="comment">#手右手，顾头不顾腚</span></span><br><span class="line">print(str[:<span class="number">3</span>])<span class="comment">#左手右，0可以省略</span></span><br><span class="line">print(str[<span class="number">1</span>:<span class="number">-1</span>])<span class="comment">#手右手，一个慢动</span></span><br><span class="line">print(str[<span class="number">1</span>:])<span class="comment">#保到最后，不用写</span></span><br><span class="line">print(str[::<span class="number">2</span>])<span class="comment">#步长为2，隔一个取一个</span></span><br><span class="line">print(str[::<span class="number">-1</span>])<span class="comment">#倒叙</span></span><br><span class="line"><span class="comment"># 按索引：s1[index]</span></span><br><span class="line"><span class="comment"># 按照切片： s1[start_index: end_index+1]</span></span><br><span class="line"><span class="comment"># 按照切片步长： s1[start_index: end_index+1:2]</span></span><br><span class="line"><span class="comment"># 反向按照切片步长： s1[start_index: end_index后延一位:2]</span></span><br></pre></td></tr></table></figure>

<h5 id="其他常用操作"><a href="#其他常用操作" class="headerlink" title="其他常用操作"></a>其他常用操作</h5><p>str的操作不会对本身做更改，只会返回新的字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">'taiBAifdsa'</span></span><br><span class="line"><span class="comment"># 不会对原字符串进行任何操作，都是产生一个新的字符串</span></span><br><span class="line"><span class="comment"># upper lower</span></span><br><span class="line">print(s.upper())  <span class="comment"># 全转为小写</span></span><br><span class="line">print(s.lower())  <span class="comment"># 全转为大写</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># startswith endswith</span></span><br><span class="line">print(s.startswith(<span class="string">'t'</span>))  <span class="comment"># True判断是否已开头</span></span><br><span class="line">print(s.startswith(<span class="string">'taiBAi'</span>))  <span class="comment"># True</span></span><br><span class="line"><span class="comment"># 了解</span></span><br><span class="line">print(s.startswith(<span class="string">'B'</span>, <span class="number">3</span>, <span class="number">6</span>))  <span class="comment"># 判断s的第三到第五的新字符串是不是以B开头</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># replace</span></span><br><span class="line">msg = <span class="string">'蔡徐坤，蔡徐坤，蔡徐坤，蔡徐坤'</span></span><br><span class="line">print(msg.replace(<span class="string">'蔡徐坤'</span>, <span class="string">'菜虚鲲'</span>))  <span class="comment"># 默认全部替换</span></span><br><span class="line">print(msg.replace(<span class="string">'蔡徐坤'</span>, <span class="string">'菜虚鲲'</span>, <span class="number">2</span>))  <span class="comment"># 只替换俩个</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># strip:裁剪空白(空格，\t \n)</span></span><br><span class="line">s4 = <span class="string">'  \n蔡徐坤\t  '</span></span><br><span class="line">print(s4.strip())</span><br><span class="line"><span class="comment"># 了解</span></span><br><span class="line"><span class="comment"># 可以去除指定的字符</span></span><br><span class="line">s4 = <span class="string">'rre蔡eecs徐dr坤qsd'</span></span><br><span class="line">print(s4.strip(<span class="string">'qrsed'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># split  非常重要</span></span><br><span class="line"><span class="comment"># 默认按照空格，全部分割，返回一个列表</span></span><br><span class="line">s6 = <span class="string">':蔡徐坤:蔡徐坤:蔡徐坤'</span></span><br><span class="line">print(s6.split(<span class="string">':'</span>, <span class="number">2</span>))  <span class="comment"># ['', '蔡徐坤', '蔡徐坤:蔡徐坤'] 2表示分割前两个</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># join 非常好用</span></span><br><span class="line">list = [<span class="string">"蔡坤"</span>, <span class="string">"蔡徐"</span>]</span><br><span class="line">s1 = <span class="string">'蔡徐坤'</span></span><br><span class="line">print(<span class="string">'1'</span>.join(s1))  <span class="comment"># 蔡1徐1坤</span></span><br><span class="line">print(<span class="string">'1'</span>.join(list))  <span class="comment"># list只能为字符串</span></span><br><span class="line"><span class="comment"># print(s2,type(s2))</span></span><br><span class="line"><span class="comment"># l1 = ['太白', '女神', '吴超']</span></span><br><span class="line"><span class="comment"># # 前提：列表里面的元素必须都是str类型</span></span><br><span class="line"><span class="comment"># s3 = ':'.join(l1)</span></span><br><span class="line"><span class="comment"># print(s3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># count</span></span><br><span class="line">s8 = <span class="string">'sdfsdagsfdagfdhgfhgfhfghfdagsaa'</span></span><br><span class="line">print(s8.count(<span class="string">'a'</span>))  <span class="comment"># 5 计算a出现的次数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># format: 格式化输出</span></span><br><span class="line"><span class="comment"># # 第一种用法：</span></span><br><span class="line">print(<span class="string">'我叫&#123;&#125;今年&#123;&#125;性别&#123;&#125;'</span>.format(<span class="string">'大壮'</span>, <span class="number">25</span>, <span class="string">'男'</span>))</span><br><span class="line"><span class="comment"># 第二种用法：数字是后面参数的位置</span></span><br><span class="line">print(<span class="string">'我叫&#123;0&#125;今年&#123;1&#125;性别&#123;2&#125;我依然叫&#123;0&#125;'</span>.format(<span class="string">'大壮'</span>, <span class="number">25</span>, <span class="string">'男'</span>))</span><br><span class="line"><span class="comment"># 第三种用法：键值对方式</span></span><br><span class="line">print(<span class="string">'我叫&#123;name&#125;今年&#123;age&#125;性别&#123;sex&#125;'</span>.format(age=<span class="number">100</span>, sex=<span class="string">'男'</span>, name=<span class="string">'大壮'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># is 系列：</span></span><br><span class="line">name = <span class="string">'100①一Ⅰ三四'</span></span><br><span class="line">print(name.isalnum())  <span class="comment"># True 字符串由字母或数字组成，能识别不同的语言的数字</span></span><br><span class="line">print(name.isalpha())  <span class="comment"># 字符串只由字母组成</span></span><br><span class="line">print(name.isdecimal())  <span class="comment"># 字符串只由十进制组成</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#in 判断str内是否有</span></span><br><span class="line">s = <span class="string">"我最爱蔡徐坤，奥里给"</span></span><br><span class="line">print(<span class="string">"蔡徐坤"</span> <span class="keyword">in</span> s)<span class="comment">#True</span></span><br><span class="line">print(<span class="string">"蔡徐奥里给"</span> <span class="keyword">in</span> s)<span class="comment">#False</span></span><br><span class="line">print(<span class="string">"蔡徐奥里给"</span> <span class="keyword">not</span> <span class="keyword">in</span> s)<span class="comment">#True</span></span><br><span class="line"></span><br><span class="line">str = <span class="string">"tea good bad"</span></span><br><span class="line">print(str.capitalize())  <span class="comment"># Tea good bad首字母大写</span></span><br><span class="line"></span><br><span class="line">str = <span class="string">"tea3good bad"</span></span><br><span class="line">print(str.title())  <span class="comment"># Tea3Good Bad 每个单词首字母大写，只要是非字母隔开都算</span></span><br><span class="line"></span><br><span class="line">str = <span class="string">"AAbbCCDDEeFGsda"</span></span><br><span class="line">print(str.swapcase())  <span class="comment"># aaBBccddeEfgSDA 大小写翻转</span></span><br><span class="line"></span><br><span class="line">str = <span class="string">"蔡徐坤"</span></span><br><span class="line">print(str.center(<span class="number">10</span>))  <span class="comment"># 蔡徐坤</span></span><br><span class="line">print(str.center(<span class="number">10</span>, <span class="string">"="</span>))  <span class="comment"># ===蔡徐坤====</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># find，找到就返回第一个，找不到就返回-1</span></span><br><span class="line">print(str.find(<span class="string">'坤'</span>))  <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># index,找到就返回第一个，找不到就报错</span></span><br></pre></td></tr></table></figure>

<h4 id="列表操作"><a href="#列表操作" class="headerlink" title="列表操作"></a>列表操作</h4><h5 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">li = [<span class="number">100</span>, <span class="string">'蔡徐坤'</span>, <span class="literal">True</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]</span><br><span class="line"><span class="comment"># 列表内什么数据都能存</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片 （顾头不顾腚）规则参考str切片</span></span><br><span class="line">print(li[:<span class="number">2</span>])  <span class="comment"># [100, '蔡徐坤']</span></span><br><span class="line">print(li[<span class="number">1</span>::<span class="number">2</span>])  <span class="comment"># ['蔡徐坤', [1, 2, 3]]</span></span><br><span class="line">print(li[<span class="number">1</span>:<span class="number">4</span>])  <span class="comment"># ['蔡徐坤', True, [1, 2, 3]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表的创建</span></span><br><span class="line"><span class="comment"># 方式一</span></span><br><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">'蔡徐坤'</span>]</span><br><span class="line"><span class="comment"># 方式二 不常用</span></span><br><span class="line">l1 = list()</span><br><span class="line">l1 = list(<span class="string">'奥里给i的蔡徐坤'</span>)</span><br><span class="line">print(l1)  <span class="comment"># ['奥', '里', '给', 'i', '的', '蔡', '徐', '坤']</span></span><br><span class="line"><span class="comment"># 方式三：列表推导式 后面讲</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 增删改查</span></span><br><span class="line">l1 = [<span class="string">'蔡徐坤'</span>, <span class="string">'影流之主'</span>, <span class="string">'奥里给'</span>, <span class="string">'巨魔'</span>, <span class="string">'哈撒给'</span>]</span><br><span class="line"><span class="comment"># 增：</span></span><br><span class="line"><span class="comment"># append:追加</span></span><br><span class="line">l1.append(<span class="string">'xx'</span>)  <span class="comment"># 不能打印它</span></span><br><span class="line">print(l1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># insert 插入</span></span><br><span class="line">l1.insert(<span class="number">2</span>, <span class="string">'wusir'</span>)  <span class="comment"># 从0开始在2的位置插入wusir</span></span><br><span class="line">print(l1)</span><br><span class="line"><span class="comment"># extend 迭代着追加</span></span><br><span class="line">l1.extend(<span class="string">'abcd'</span>)  <span class="comment"># 会将['a', 'b', 'c', 'd']这个列表迭代加入</span></span><br><span class="line">l1.extend([<span class="string">'蔡徐坤'</span>, ])  <span class="comment"># 会骄傲如'蔡徐坤'整体</span></span><br><span class="line">print(l1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删</span></span><br><span class="line"><span class="comment"># pop 按照索引位置删除</span></span><br><span class="line"><span class="comment"># l1.pop(-2)  # 按照索引删除 （返回的是删除的元素）</span></span><br><span class="line">print(l1.pop())</span><br><span class="line"></span><br><span class="line"><span class="comment"># remove  指定元素删除,如果有重名元素，默认删除从左数第一个</span></span><br><span class="line">l1.remove(<span class="string">'a'</span>)</span><br><span class="line">print(l1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># clear(了解)</span></span><br><span class="line">l1.clear()  <span class="comment"># 清空</span></span><br><span class="line">print(l1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># del</span></span><br><span class="line"><span class="comment"># 按照索引删除</span></span><br><span class="line">l1 = [<span class="string">'蔡徐坤'</span>, <span class="string">'影流之主'</span>, <span class="string">'奥里给'</span>, <span class="string">'巨魔'</span>, <span class="string">'哈撒给'</span>]</span><br><span class="line"><span class="keyword">del</span> l1[<span class="number">-1</span>]</span><br><span class="line">print(l1)  <span class="comment"># ['蔡徐坤', '影流之主', '奥里给', '巨魔']</span></span><br><span class="line"><span class="comment"># 按照切片(步长)删除</span></span><br><span class="line"><span class="keyword">del</span> l1[::<span class="number">2</span>]</span><br><span class="line">print(l1)  <span class="comment"># ['影流之主', '巨魔']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 改</span></span><br><span class="line"><span class="comment"># 按照索引改值</span></span><br><span class="line">l1[<span class="number">0</span>] = <span class="string">'名人'</span></span><br><span class="line"><span class="comment"># 按照切片改（了解）</span></span><br><span class="line">l1[<span class="number">2</span>:] = [<span class="string">'死丢比特'</span>, <span class="string">'阿泽西'</span>, <span class="string">'奥巴马'</span>]</span><br><span class="line">print(l1)  <span class="comment"># ['名人', '巨魔', '死丢比特', '阿泽西', '奥巴马']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按照切片修改（步长）（了解）</span></span><br><span class="line">l1[::<span class="number">2</span>] = <span class="string">'123'</span>  <span class="comment"># 一定要一一对应不然会报错</span></span><br><span class="line">print(l1)  <span class="comment"># ['1', '巨魔', '2', '阿泽西', '3']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查：</span></span><br><span class="line"><span class="comment"># 索引，切片（步长）</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> l1:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>

<h5 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">list = [<span class="number">21</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">31</span>, <span class="number">1</span>]</span><br><span class="line">list.sort()  <span class="comment"># 升序</span></span><br><span class="line">list.sort(reverse=<span class="literal">True</span>)  <span class="comment"># 降序</span></span><br><span class="line">list.reverse()  <span class="comment"># 反转</span></span><br><span class="line">list += list  <span class="comment"># 列表相加</span></span><br><span class="line">list *= <span class="number">2</span>  <span class="comment"># 翻倍</span></span><br><span class="line"><span class="keyword">del</span> list[<span class="number">1</span>::<span class="number">2</span>]  <span class="comment"># 删除奇数索引</span></span><br><span class="line">print(list)  <span class="comment"># [1, 7, 31, 5, 21, 1, 7, 31, 5, 21]</span></span><br><span class="line"><span class="comment"># 倒着删除奇数索引</span></span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(len(list) - <span class="number">1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">    <span class="keyword">if</span> index % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">        list.pop(index)</span><br><span class="line">print(list)  <span class="comment"># [1, 31, 21, 7, 5]</span></span><br></pre></td></tr></table></figure>



<h5 id="range"><a href="#range" class="headerlink" title="range"></a>range</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">range(<span class="number">5</span>)  <span class="comment"># [0, 1, 2, 3, 4]顾头不顾腚</span></span><br><span class="line">range(<span class="number">5</span>, <span class="number">10</span>)  <span class="comment"># [5, 6, 7, 8, 9]</span></span><br><span class="line">range(<span class="number">5</span>, <span class="number">10</span>, <span class="number">2</span>)  <span class="comment"># [5, 7, 9]</span></span><br><span class="line">range(<span class="number">10</span>, <span class="number">5</span>, <span class="number">-2</span>)  <span class="comment"># [10, 8, 6]</span></span><br></pre></td></tr></table></figure>

<h4 id="dict详细介绍"><a href="#dict详细介绍" class="headerlink" title="dict详细介绍"></a>dict详细介绍</h4><p><strong>键只能为不可变类型，值可以是任意的</strong></p>
<p>字典在3.5及其之前，是无序的</p>
<p>3.6之后会按照建立字典的顺序排列</p>
<p>3.7之后是有序的</p>
<p>查询速度快</p>
<h5 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建字典的几种方式：</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式1:</span></span><br><span class="line">dic = dict(((<span class="string">'one'</span>, <span class="number">1</span>),(<span class="string">'two'</span>, <span class="number">2</span>),(<span class="string">'three'</span>, <span class="number">3</span>)))</span><br><span class="line"><span class="comment">#dic = dict([('one', 1),('two', 2),('three', 3)])</span></span><br><span class="line">print(dic)  <span class="comment"># &#123;'one': 1, 'two': 2, 'three': 3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式2:</span></span><br><span class="line">dic = dict(one=<span class="number">1</span>,two=<span class="number">2</span>,three=<span class="number">3</span>)</span><br><span class="line">print(dic)  <span class="comment"># &#123;'one': 1, 'two': 2, 'three': 3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式3:</span></span><br><span class="line">dic = dict(&#123;<span class="string">'one'</span>: <span class="number">1</span>, <span class="string">'two'</span>: <span class="number">2</span>, <span class="string">'three'</span>: <span class="number">3</span>&#125;)</span><br><span class="line">print(dic)  <span class="comment"># &#123;'one': 1, 'two': 2, 'three': 3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式5: 后面会讲到先了解</span></span><br><span class="line">dic = dict(zip([<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>],[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))</span><br><span class="line">print(dic)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式6: 字典推导式 后面会讲到</span></span><br><span class="line"><span class="comment"># dic = &#123; k: v for k,v in [('one', 1),('two', 2),('three', 3)]&#125;</span></span><br><span class="line"><span class="comment"># print(dic)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方式7:利用fromkey后面会讲到。</span></span><br><span class="line"><span class="comment"># dic = dict.fromkeys('abcd','蔡徐坤')</span></span><br><span class="line"><span class="comment"># print(dic)  # &#123;'a': '蔡徐坤', 'b': '蔡徐坤', 'c': '蔡徐坤', 'd': '蔡徐坤'&#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="增"><a href="#增" class="headerlink" title="增"></a>增</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过键值对直接增加</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">dic[<span class="string">'weight'</span>] = <span class="number">75</span>  <span class="comment"># 没有weight这个键，就增加键值对</span></span><br><span class="line">print(dic)  <span class="comment"># &#123;'name': '蔡徐坤', 'age': 18, 'weight': 75&#125;</span></span><br><span class="line">dic[<span class="string">'name'</span>] = <span class="string">'barry'</span>  <span class="comment"># 有name这个键，就成了字典的改值</span></span><br><span class="line">print(dic)  <span class="comment"># &#123;'name': 'barry', 'age': 18, 'weight': 75&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># setdefault</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">dic.setdefault(<span class="string">'奥里给'</span>)  <span class="comment"># '奥里给': None</span></span><br><span class="line">dic.setdefault(<span class="string">'height'</span>, <span class="number">175</span>)  <span class="comment"># 没有height此键，则添加。有此键则不变</span></span><br><span class="line">print(dic)  <span class="comment"># &#123;'name': '蔡徐坤', 'age': 18, 'height': 175&#125;</span></span><br><span class="line"><span class="comment"># 它有返回值</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">ret = dic.setdefault(<span class="string">'name'</span>)</span><br><span class="line">print(ret)  <span class="comment"># 蔡徐坤</span></span><br></pre></td></tr></table></figure>

<h5 id="删"><a href="#删" class="headerlink" title="删"></a>删</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pop 通过key删除字典的键值对，有返回值，可设置返回值。</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">ret1 = dic.pop(<span class="string">'n'</span>,<span class="string">"cxk"</span>)<span class="comment">#如果不设置第二个次数，无这个值就会报错。设置了，就会返回设置的值</span></span><br><span class="line">print(ret1,dic)</span><br><span class="line"></span><br><span class="line"><span class="comment">#popitem 3.5版本之前，popitem为随机删除，3.6之后为删除最后一个，有返回值</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">ret = dic.popitem()</span><br><span class="line">print(ret,dic) <span class="comment"># ('age', 18) &#123;'name': '蔡徐坤'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#clear 清空字典</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">dic.clear()</span><br><span class="line">print(dic) <span class="comment"># &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># del</span></span><br><span class="line"><span class="comment"># 通过键删除键值对</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line"><span class="keyword">del</span> dic[<span class="string">'name'</span>]</span><br><span class="line">print(dic) <span class="comment"># &#123;'age': 18&#125;</span></span><br><span class="line"><span class="comment">#删除整个字典</span></span><br><span class="line"><span class="keyword">del</span> dic</span><br></pre></td></tr></table></figure>

<h5 id="改"><a href="#改" class="headerlink" title="改"></a>改</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过键值对直接改</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">dic[<span class="string">'name'</span>] = <span class="string">'barry'</span></span><br><span class="line">print(dic) <span class="comment"># &#123;'name': 'barry', 'age': 18&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># update</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">dic.update(sex=<span class="string">'男'</span>, age=<span class="number">175</span>)</span><br><span class="line">print(dic) <span class="comment"># &#123;'name': '蔡徐坤', 'age': 175, 'sex': '男'&#125;</span></span><br><span class="line"></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">dic.update([(<span class="number">1</span>, <span class="string">'a'</span>),(<span class="number">2</span>, <span class="string">'b'</span>)])</span><br><span class="line">print(dic) <span class="comment"># &#123;'name': '蔡徐坤', 'age': 18, 1: 'a', 2: 'b'&#125;</span></span><br><span class="line"></span><br><span class="line">dic1 = &#123;<span class="string">"name"</span>:<span class="string">"jin"</span>,<span class="string">"age"</span>:<span class="number">18</span>,<span class="string">"sex"</span>:<span class="string">"male"</span>&#125;</span><br><span class="line">dic2 = &#123;<span class="string">"name"</span>:<span class="string">"alex"</span>,<span class="string">"weight"</span>:<span class="number">75</span>&#125;</span><br><span class="line">dic1.update(dic2)</span><br><span class="line">print(dic1) <span class="comment"># &#123;'name': 'alex', 'age': 18, 'sex': 'male', 'weight': 75&#125;</span></span><br><span class="line">print(dic2) <span class="comment"># &#123;'name': 'alex', 'weight': 75&#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="查"><a href="#查" class="headerlink" title="查"></a>查</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过键查询</span></span><br><span class="line"><span class="comment"># 直接dic[key](没有此键会报错) 不推荐</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">print(dic[<span class="string">'name'</span>])  <span class="comment"># 蔡徐坤 </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># get</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">v = dic.get(<span class="string">'name'</span>)</span><br><span class="line">print(v)  <span class="comment"># '蔡徐坤'</span></span><br><span class="line">v = dic.get(<span class="string">'name2'</span>, <span class="string">'没有此键'</span>)  <span class="comment"># 第二个参数设置未找到时的返回值，如果没有设置，并且找不到返回None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># keys()  可以通过list(dic.keys())转化为list</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">print(dic.keys())  <span class="comment"># 返回所有的键 dict_keys(['name', 'age'])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># values() 可以通过list(dic.values())转化为list</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">print(dic.values())  <span class="comment"># 返回所有的值 dict_values(['蔡徐坤', 18])</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># items() 可以通过list(dic.values())转化为list，元素为元组</span></span><br><span class="line">dic = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">print(dic.items())  <span class="comment"># 返回所有的键值对 dict_items([('name', '蔡徐坤'), ('age', 18)])</span></span><br></pre></td></tr></table></figure>

<h5 id="补充-1"><a href="#补充-1" class="headerlink" title="补充"></a>补充</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dic = dict.fromkeys([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="string">"12"</span>)  <span class="comment"># 不同的键，同一个值</span></span><br><span class="line">print(dic)  <span class="comment"># &#123;1: '12', 2: '12', 3: '12', 4: '12'&#125;</span></span><br><span class="line">dic = dict.fromkeys([<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>], [])<span class="comment">#同一引用</span></span><br><span class="line">dic[<span class="number">1</span>].append(<span class="number">1</span>)</span><br><span class="line">print(dic)<span class="comment">#&#123;1: [1], 2: [1], 5: [1], 6: [1]&#125;</span></span><br><span class="line"></span><br><span class="line">dic = dict.fromkeys(<span class="string">'123123'</span>, <span class="number">21</span>)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> dic:</span><br><span class="line">    <span class="keyword">if</span> <span class="string">'1'</span> <span class="keyword">in</span> k:</span><br><span class="line">        dic.pop(k)  <span class="comment"># 字典迭代时不能改变字典大小</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> list(dic.keys()):  <span class="comment"># 改进，将键分离出来</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">'1'</span> <span class="keyword">in</span> key:</span><br><span class="line">        dic.pop(key)</span><br></pre></td></tr></table></figure>

<h4 id="集合set"><a href="#集合set" class="headerlink" title="集合set"></a>集合set</h4><p>里面元素为不可变元素，集合是无序的(1-33是有序的)</p>
<p>作用：</p>
<ul>
<li>列表去重</li>
<li>关系测试：交集、并集……</li>
</ul>
<h5 id="创建-1"><a href="#创建-1" class="headerlink" title="创建"></a>创建</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set1 = set(&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="string">'barry'</span>&#125;)</span><br><span class="line">set2 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="string">'barry'</span>&#125;</span><br><span class="line"><span class="comment"># &#123;&#125;代表空字典</span></span><br><span class="line">set()  <span class="comment"># 表示空集合</span></span><br></pre></td></tr></table></figure>

<h5 id="增、删、改"><a href="#增、删、改" class="headerlink" title="增、删、改"></a>增、删、改</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="string">'alex'</span>, <span class="string">'wusir'</span>, <span class="string">'ritian'</span>, <span class="string">'egon'</span>, <span class="string">'barry'</span>&#125;</span><br><span class="line">set1.add(<span class="string">'景女神'</span>)</span><br><span class="line">print(set1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># update：迭代着增加</span></span><br><span class="line">set1.update(<span class="string">'A'</span>)</span><br><span class="line">print(set1)</span><br><span class="line">set1.update(<span class="string">'老师'</span>)</span><br><span class="line">print(set1)</span><br><span class="line">set1.update([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">print(set1)</span><br><span class="line"></span><br><span class="line">set1 = &#123;<span class="string">'alex'</span>, <span class="string">'wusir'</span>, <span class="string">'ritian'</span>, <span class="string">'egon'</span>, <span class="string">'barry'</span>&#125;</span><br><span class="line"></span><br><span class="line">set1.remove(<span class="string">'alex'</span>)  <span class="comment"># 删除一个元素</span></span><br><span class="line">print(set1)</span><br><span class="line"></span><br><span class="line">set1.pop()  <span class="comment"># 随机删除一个元素</span></span><br><span class="line">print(set1)</span><br><span class="line"></span><br><span class="line">set1.clear()  <span class="comment"># 清空集合</span></span><br><span class="line">print(set1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> set1  <span class="comment"># 删除集合</span></span><br><span class="line">print(set1)  <span class="comment"># NameError: name 'set1' is not defined</span></span><br></pre></td></tr></table></figure>

<h5 id="交并差"><a href="#交并差" class="headerlink" title="交并差"></a>交并差</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#交集。（&amp;  或者 intersection）</span></span><br><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;</span><br><span class="line">print(set1 &amp; set2)  <span class="comment"># &#123;4, 5&#125;</span></span><br><span class="line">print(set1.intersection(set2))  <span class="comment"># &#123;4, 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#并集。（| 或者 union）</span></span><br><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;</span><br><span class="line">print(set1 | set2)  <span class="comment"># &#123;1, 2, 3, 4, 5, 6, 7,8&#125;</span></span><br><span class="line">print(set2.union(set1))  <span class="comment"># &#123;1, 2, 3, 4, 5, 6, 7,8&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#差集。（- 或者 difference）</span></span><br><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;</span><br><span class="line">print(set1 - set2)  <span class="comment"># &#123;1, 2, 3&#125;</span></span><br><span class="line">print(set1.difference(set2))  <span class="comment"># &#123;1, 2, 3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#反交集。 （^ 或者 symmetric_difference）</span></span><br><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;</span><br><span class="line">print(set1 ^ set2)  <span class="comment"># &#123;1, 2, 3, 6, 7, 8&#125;</span></span><br><span class="line">print(set1.symmetric_difference(set2))  <span class="comment"># &#123;1, 2, 3, 6, 7, 8&#125;</span></span><br></pre></td></tr></table></figure>

<p>子差集</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">set2 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;</span><br><span class="line"></span><br><span class="line">print(set1 &lt; set2)</span><br><span class="line">print(set1.issubset(set2))  <span class="comment"># 这两个相同，都是说明set1是set2子集。</span></span><br><span class="line"></span><br><span class="line">print(set2 &gt; set1)</span><br><span class="line">print(set2.issuperset(set1))  <span class="comment"># 这两个相同，都是说明set2是set1超集。</span></span><br></pre></td></tr></table></figure>

<h5 id="去重"><a href="#去重" class="headerlink" title="去重"></a>去重</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(set(list))</span><br></pre></td></tr></table></figure>

<blockquote>
<p>frozenset`可以将集合变为不可变类型。frozenset(list)</p>
</blockquote>
<h4 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h4><p>不可变类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ele = (<span class="number">1</span>)</span><br><span class="line">print(type(ele))  <span class="comment"># &lt;class 'int'&gt;</span></span><br><span class="line">ele = (<span class="string">"1"</span>)</span><br><span class="line">print(type(ele))  <span class="comment"># &lt;class 'str'&gt;</span></span><br><span class="line">ele = ([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">print(type(ele))  <span class="comment"># &lt;class 'list'&gt;</span></span><br><span class="line">ele = (&#123;<span class="number">1</span>, <span class="number">23</span>&#125;)</span><br><span class="line">print(type(ele))  <span class="comment"># &lt;class 'set'&gt;</span></span><br><span class="line">ele = (&#123;<span class="string">"1"</span>: <span class="string">"1"</span>&#125;)</span><br><span class="line">print(type(ele))  <span class="comment"># &lt;class 'dict'&gt;</span></span><br><span class="line">ele = (<span class="number">1</span>,)</span><br><span class="line">print(type(ele))  <span class="comment"># &lt;class 'tuple'&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#切片</span></span><br><span class="line">tu1 = (<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'蔡徐坤'</span>, <span class="number">3</span>, <span class="number">666</span>)</span><br><span class="line">print(tu1[<span class="number">0</span>])  <span class="comment"># 'a'</span></span><br><span class="line">print(tu1[<span class="number">-1</span>])  <span class="comment"># 666</span></span><br><span class="line">print(tu1[<span class="number">1</span>:<span class="number">3</span>])  <span class="comment"># ('b', '蔡徐坤')</span></span><br><span class="line">print(tu1[:<span class="number">-1</span>])  <span class="comment"># ('a', 'b', '蔡徐坤', 3)</span></span><br><span class="line">print(tu1[::<span class="number">2</span>])  <span class="comment"># ('a', '蔡徐坤', 666)</span></span><br><span class="line">print(tu1[::<span class="number">-1</span>])  <span class="comment"># (666, 3, '蔡徐坤', 'b', 'a')</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以利用for循环查询</span></span><br><span class="line">tu1 = (<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'蔡徐坤'</span>, <span class="number">3</span>, <span class="number">666</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> tu1:</span><br><span class="line">    print(i)</span><br><span class="line"></span><br><span class="line"><span class="comment">#找索引，没有find</span></span><br><span class="line">tu = (<span class="string">'蔡徐坤'</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, ], <span class="string">'WuSir'</span>, <span class="string">'女神'</span>)</span><br><span class="line">print(tu.index(<span class="string">'蔡徐坤'</span>)) <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#计总数</span></span><br><span class="line">tu = (<span class="string">'蔡徐坤'</span>, <span class="string">'蔡徐坤'</span>, <span class="string">'WuSir'</span>, <span class="string">'吴超'</span>)</span><br><span class="line">print(tu.count(<span class="string">'蔡徐坤'</span>)) <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line">tu1 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">84</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">11</span>,<span class="number">88</span>,<span class="number">2</span>)</span><br><span class="line">print(len(tu1))</span><br></pre></td></tr></table></figure>

<h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=input(<span class="string">'请输入'</span>)</span><br></pre></td></tr></table></figure>

<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 条件:</span><br><span class="line">    语句</span><br><span class="line"><span class="keyword">elif</span> 条件：</span><br><span class="line">	</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<blockquote>
<p>只要是能转化为bool值，任何都能判断</p>
</blockquote>
<h3 id="while"><a href="#while" class="headerlink" title="while"></a>while</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> 条件:</span><br><span class="line">    语句</span><br><span class="line"><span class="keyword">else</span>: <span class="comment">#条件不成立</span></span><br><span class="line">    语句</span><br></pre></td></tr></table></figure>

<p>break：跳出循环，不执行else</p>
<p>continue：跳过本次循环</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># len :获取可迭代对象的元素总个数</span></span><br><span class="line">s1 = <span class="string">'帅哥蔡徐坤'</span></span><br><span class="line">index = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> index &lt; len(s1):</span><br><span class="line">    print(s1[index])</span><br><span class="line">    index += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="for"><a href="#for" class="headerlink" title="for"></a>for</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#iterable可迭代对象</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">有限循环</span></span><br><span class="line"><span class="string">for 变量 in iterable:</span></span><br><span class="line"><span class="string">    pass</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">s1 = <span class="string">'帅哥蔡徐坤'</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s1:</span><br><span class="line">    print(i)</span><br><span class="line"><span class="comment"># for也有break continue</span></span><br><span class="line"><span class="comment"># for else: while else:用法一样。</span></span><br></pre></td></tr></table></figure>



<h2 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h2><p>%s 占位符 %d %i替换数字 %r 万能原模原样输出来 %f 浮点数</p>
<p>%x — hex 十六进制<br>%d — dec 十进制<br>%d — oct 八进制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msg = <span class="string">"%s=%s=%s"</span> % (<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>)</span><br></pre></td></tr></table></figure>

<p>格式化输出中，只想输出%要写<code>%%</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># width = 10,precise = 3,align = left</span></span><br><span class="line">print(<span class="string">"PI = %10.3f"</span> % math.pi)<span class="comment">#     3.142</span></span><br><span class="line"><span class="comment"># width = 10,precise = 3,align = rigth</span></span><br><span class="line">print(<span class="string">"PI = %-10.3f"</span> % math.pi)<span class="comment">#3.142</span></span><br></pre></td></tr></table></figure>

<h3 id="新格式化输出"><a href="#新格式化输出" class="headerlink" title="新格式化输出"></a>新格式化输出</h3><p>python3.6之后可以使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">"蔡徐坤"</span></span><br><span class="line">age=<span class="number">10</span></span><br><span class="line">str=<span class="string">f"name=<span class="subst">&#123;name&#125;</span>,age=<span class="subst">&#123;age&#125;</span>"</span><span class="comment">#大小写F都可以</span></span><br><span class="line">print(<span class="string">f'<span class="subst">&#123;<span class="number">3</span>*<span class="number">21</span>&#125;</span>'</span>)  <span class="comment"># 63</span></span><br><span class="line"></span><br><span class="line">name = <span class="string">'barry'</span></span><br><span class="line">print(<span class="string">f"全部大写：<span class="subst">&#123;name.upper()&#125;</span>"</span>)  <span class="comment"># 全部大写：BARRY</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典也可以</span></span><br><span class="line">teacher = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">msg = <span class="string">f"The teacher is <span class="subst">&#123;teacher[<span class="string">'name'</span>]&#125;</span>, aged <span class="subst">&#123;teacher[<span class="string">'age'</span>]&#125;</span>"</span></span><br><span class="line">print(msg)  <span class="comment"># The comedian is 蔡徐坤, aged 18</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表也行</span></span><br><span class="line">l1 = [<span class="string">'蔡徐坤'</span>, <span class="number">18</span>]</span><br><span class="line">msg = <span class="string">f'姓名：<span class="subst">&#123;l1[<span class="number">0</span>]&#125;</span>,年龄：<span class="subst">&#123;l1[<span class="number">1</span>]&#125;</span>.'</span></span><br><span class="line">print(msg)  <span class="comment"># 姓名：蔡徐坤,年龄：18.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_a_b</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line">print(<span class="string">'求和的结果为'</span> + <span class="string">f'<span class="subst">&#123;sum_a_b(a,b)&#125;</span>'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#多行f</span></span><br><span class="line">name = <span class="string">'barry'</span></span><br><span class="line">age = <span class="number">18</span></span><br><span class="line">ajd = <span class="string">'handsome'</span></span><br><span class="line"></span><br><span class="line">speaker = <span class="string">f'Hi <span class="subst">&#123;name&#125;</span>.'</span>\</span><br><span class="line">          <span class="string">f'You are <span class="subst">&#123;age&#125;</span> years old.'</span>\</span><br><span class="line">          <span class="string">f'You are a <span class="subst">&#123;ajd&#125;</span> guy!'</span></span><br><span class="line">print(speaker)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ! , : &#123; &#125; ;这些标点不能出现在&#123;&#125; 这里面。</span></span><br><span class="line"><span class="comment"># print(f'&#123;;12&#125;')  # 报错</span></span><br><span class="line"><span class="comment"># 所以使用lambda 表达式会出现一些问题。</span></span><br><span class="line"><span class="comment"># 解决方式：可将lambda嵌套在圆括号里面解决此问题。</span></span><br></pre></td></tr></table></figure>

<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="算术运算"><a href="#算术运算" class="headerlink" title="算术运算"></a>算术运算</h3><p>除了加减乘除，还有<code>//</code>去整除的商<code>**</code>幂</p>
<p>python里也有<code>//=</code>、<code>+=</code>等等</p>
<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><p><code>and</code>=<code>&amp;&amp;</code>、<code>or</code>=<code>||</code>、not=<code>!</code></p>
<p>优先级：not&gt;and&gt;or</p>
<h2 id="、is区别、代码块"><a href="#、is区别、代码块" class="headerlink" title="==、is区别、代码块"></a>==、is区别、代码块</h2><h3 id="is、-区别"><a href="#is、-区别" class="headerlink" title="is、==区别"></a>is、==区别</h3><p>id是虚拟内存地址</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># id 唯一标识</span></span><br><span class="line">id(<span class="string">"sad"</span>)</span><br><span class="line"><span class="comment"># ==判断的是 值是否相同</span></span><br><span class="line"><span class="comment"># is判断的是地址值是否相同</span></span><br></pre></td></tr></table></figure>

<h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><p>Python程序是由代码块构造的。块是一个python程序的文本，他是作为一个单元执行的。</p>
<p>代码块：一个模块，一个函数，一个类，一个文件等都是一个代码块。</p>
<p>而作为交互方式输入的每个命令都是一个代码块。</p>
<p>两个机制，同一个代码块下，有一个机制，不同代码块，遵循另一个机制</p>
<h4 id="同一代码块"><a href="#同一代码块" class="headerlink" title="同一代码块"></a>同一代码块</h4><p>同一个代码块的初始化对象的命令时，会检查是否其值是否已经存在，如果存在，会将其重用。</p>
<blockquote>
<p><strong>适用对象</strong>： int（float），str，bool。</p>
<p>int(float):任何数字在同一代码块下都会复用。</p>
<p>bool:True和False在字典中会以1，0方式存在，并且复用。</p>
<p>str：几乎所有的字符串都会符合缓存机制，具体规定如下</p>
</blockquote>
<ol>
<li>非乘法得到的字符串都满足代码块的缓存机制：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">'坤坤@！#*ewq'</span></span><br><span class="line">s2 = <span class="string">'坤坤@！#*ewq'</span></span><br><span class="line">print(s1 <span class="keyword">is</span> s2)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>乘法得到的字符串分两种情况：<ol>
<li>乘数为1时，任何字符串满足代码块的缓存机制：</li>
</ol>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">b1 = <span class="string">'坤坤@5847395QQ0743895*&amp;^%$#((&amp;_+(())'</span> *<span class="number">1</span></span><br><span class="line">a1 = <span class="string">'坤坤@5847395QQ0743895*&amp;^%$#((&amp;_+(())'</span> *<span class="number">1</span></span><br><span class="line"></span><br><span class="line">print(a1 <span class="keyword">is</span> b1)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<ol>
<li>乘数&gt;=2时：仅含大小写字母，数字，下划线，总长度&lt;=20，满足代码块的缓存机制：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">'old_'</span> * <span class="number">5</span></span><br><span class="line">s2 = <span class="string">'old_'</span> * <span class="number">5</span></span><br><span class="line">print(s1 <span class="keyword">is</span> s2)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<p> <strong>优点</strong>：能够提高一些字符串，整数处理人物在时间和空间上的性能；需要值相同的字符串，整数的时候，直接从‘字典’中取出复用，避免频繁的创建和销毁，提升效率，节约内存</p>
<h4 id="不同代码块"><a href="#不同代码块" class="headerlink" title="不同代码块"></a>不同代码块</h4><p>Python自动将-5~256的整数进行了<strong>缓存</strong>，当你将这些整数赋值给变量时，并不会重新创建对象，而是使用已经创建好的缓存对象。</p>
<p>python会将一定规则的字符串在<strong>字符串驻留池</strong>中，创建一份，当你将这些字符串赋值给变量时，并不会重新创建对象， 而是使用在字符串驻留池中创建好的对象。</p>
<p>其实，无论是缓存还是字符串驻留池，都是python做的一个优化，就是将~5-256的整数，和一定规则的字符串，放在一个‘池’（容器，或者字典）中，无论程序中那些变量指向这些范围内的整数或者字符串，那么他直接在这个‘池’中引用，言外之意，就是内存中之创建一个。</p>
<blockquote>
<p><strong>int（float），str，bool</strong> </p>
</blockquote>
<p><strong>int：</strong>范围是-5~256</p>
<p><strong>str:</strong>字符串</p>
<ul>
<li>字符串的长度为0或者1，默认都采用了驻留机制（小数据池）。</li>
<li>字符串的长度&gt;1,且只含有大小写字母，数字，下划线时，才会默认驻留。</li>
<li>用乘法得到的字符串，分两种情况。<ul>
<li>乘数为1时：<ul>
<li>仅含大小写字母，数字，下划线，默认驻留</li>
<li>含其他字符，长度&lt;=1,默认驻留。</li>
<li>含其他字符，长度&gt;1,默认驻留。</li>
</ul>
</li>
<li>乘数&gt;=2时：<ul>
<li>仅含大小写字母，数字，下划线，总长度&lt;=20,默认驻留。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="深浅copy"><a href="#深浅copy" class="headerlink" title="深浅copy"></a>深浅copy</h2><p>浅拷贝只会拷贝壳，对象里每一个属性的引用还是原来的</p>
<p>深拷贝连属性引用也不是原来的了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">l2 = l1.copy()  <span class="comment"># 浅拷贝</span></span><br><span class="line"><span class="comment">#深拷贝</span></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line"><span class="comment"># python对深copy做了一个优化，不可变的数据类型，沿用同一个</span></span><br><span class="line">copy.deepcopy([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]])</span><br></pre></td></tr></table></figure>

<h2 id="编码进阶"><a href="#编码进阶" class="headerlink" title="编码进阶"></a>编码进阶</h2><p>bytes类型与字符串类型，几乎一模一样，可以看看bytes类型的源码，bytes类型可以用的操作方法与str相差无几.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">"蔡徐坤"</span></span><br><span class="line">b1 = s1.encode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(b1, type(b1))  <span class="comment"># b'\xe8\x94\xa1\xe5\xbe\x90\xe5\x9d\xa4' &lt;class 'bytes'&gt;</span></span><br><span class="line">s2 = b1.decode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(s2)  <span class="comment"># 蔡徐坤</span></span><br></pre></td></tr></table></figure>

<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">'d:\test.txt'</span>,mode=<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">content = f.read()</span><br><span class="line">print(content)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<p>接下来就是对上面代码的解释：</p>
<ul>
<li>f: 就是一个变量，一般都会将它写成f,f_obj,file,f_handler,fh,等，它被称作文件句柄。</li>
<li>open：是Python调用的操作系统（windows,linux,等）的功能。</li>
<li>‘d:\test.txt’: 这个是文件的路径。</li>
<li><code>\</code>为转义字符，如果需要用的话可以用<code>\\</code>替代<code>\</code>或者在字符串前加<code>r</code>。表示、不用转义</li>
<li>mode： 就是定义你的操作方式：r为读模式。</li>
<li>encoding: 不是具体的编码或者解码，他就是声明：此次打开文件使用什么编码本。一般来说：你的文件用什么编码保存的，就用什么方法打开，一般都是用utf-8（有些使用的是gbk）。</li>
<li>f.read():你想操作文件，比如读文件，给文件写内容，等等，都必须通过文件句柄进行操作。</li>
<li>close(): 关闭文件句柄（可以把文件句柄理解成一个空间，这个空间存在内存中，必须要主动关闭）。</li>
</ul>
<p>共有函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f1.read()  <span class="comment"># 读取全部</span></span><br><span class="line">f1.read(<span class="number">5</span>)  <span class="comment"># 读取5个字符</span></span><br><span class="line">f1.readlines()  <span class="comment"># 将文件每一行作为一个元素，返回list</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f1:</span><br><span class="line">    print(line)  <span class="comment"># 一个line就是一行</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>读取时，每行最后都有一个<code>\n</code>可以用strip()函数，去除<code>\n</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td>rb</td>
<td>以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td>r+</td>
<td>打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td>rb+</td>
<td>以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td>w</td>
<td>打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>wb</td>
<td>以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>w+</td>
<td>打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>wb+</td>
<td>以二进制格式打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>a</td>
<td>打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td>ab</td>
<td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td>a+</td>
<td>打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td>
</tr>
<tr>
<td>ab+</td>
<td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</td>
</tr>
</tbody></table>
<blockquote>
<p>如果你在读写模式下，先写后读，那么文件就会出问题，因为默认光标是在文件的最开始，你要是先写，则写入的内容会讲原内容覆盖掉，直到覆盖到你写完的内容，然后在后面开始读取。</p>
</blockquote>
<h3 id="其他操作"><a href="#其他操作" class="headerlink" title="其他操作"></a>其他操作</h3><ul>
<li><p>seek(n)光标移动到n位置,注意: 移动单位是byte,所有如果是utf-8的中文部分要是3的倍数</p>
<ul>
<li><p>移动到开头:seek(0)</p>
</li>
<li><p>移动到结尾:seek(0,2) </p>
</li>
</ul>
<blockquote>
<p>seek的第二个参数表示的是从哪个位置进行偏移,默认是0,表示开头,1表示当前位置,2表示结尾</p>
</blockquote>
</li>
<li><p>tell()获取光标位置</p>
</li>
<li><p>flush()强制刷新，一般写文件时使用</p>
</li>
<li><p>readable()、writeable()</p>
</li>
<li><p>with打开文件</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#有点：不用手动关闭</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">r'd:\test.log'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f1:</span><br><span class="line">    print(f1.read())</span><br><span class="line"><span class="comment">#可以写多个</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">r'd:\test.log'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f1, \</span><br><span class="line">        open(<span class="string">r'd:\test.log'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f2:</span><br><span class="line">    print(f1.read())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>自动关闭文件句柄，是有一段时间的，这个时间不固定，所以这里就会产生问题，如果你在with语句中通过r模式打开t1文件，那么你在下面又以a模式打开t1文件，此时有可能你第二次打开t1文件时，第一次的文件句柄还没有关闭掉，可能就会出现错误,他的解决方式只能在你第二次打开此文件前，手动关闭上一个文件句柄。</p>
</blockquote>
<h3 id="文件的修改"><a href="#文件的修改" class="headerlink" title="文件的修改"></a>文件的修改</h3><ul>
<li><p>将硬盘存放的该文件的内容全部加载到内存，在内存中是可以修改的，修改完毕后，再由内存覆盖到硬盘（word，vim，nodpad++等编辑器）</p>
</li>
<li><p>将硬盘存放的该文件的内容一行一行地读入内存，修改完毕就写入新文件，最后用新文件覆盖源文件。（用for）</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.remove(<span class="string">'移除的文件路径'</span>)  <span class="comment"># 移除文件</span></span><br><span class="line">os.rename(<span class="string">"old Name"</span>, <span class="string">"new Name"</span>)  <span class="comment"># 文件重命名</span></span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>python中的函数，加()才执行，不加()只会指向函数的内存地址，可以当变量来使用</p>
<h3 id="结构和调用"><a href="#结构和调用" class="headerlink" title="结构和调用"></a>结构和调用</h3><p>函数体内不要写print</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">meet</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 代码功能</span></span><br><span class="line">    <span class="keyword">return</span>  <span class="comment"># 终止函数，可以无返回值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">meet1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>  <span class="comment"># 返回</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">meet2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>,<span class="number">2</span>,<span class="string">"2sa"</span> <span class="comment">#(1, 2, '2sa') &lt;class 'tuple'&gt;</span></span><br><span class="line">a,b,c = meet2()<span class="comment">#拆包获取</span></span><br><span class="line">meet()  <span class="comment"># 定义之后才能使用</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#三元运算符</span></span><br><span class="line">a = <span class="number">10</span> <span class="keyword">if</span> <span class="number">10</span> &gt; <span class="number">20</span> <span class="keyword">else</span> <span class="number">20</span></span><br><span class="line">print(a) <span class="comment"># 20</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 传参时位置参数一定要在关键字参数之前</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">st</span><span class="params">(age, name=<span class="string">"sad"</span>)</span>:</span> print(<span class="number">1</span>)<span class="comment">#如果只有一行代码，就可以写在一行</span></span><br><span class="line">st(age=<span class="number">1</span>,name=<span class="string">"1"</span>)</span><br></pre></td></tr></table></figure>

<p><code>*args</code>：接收所有参数，为元组</p>
<p><code>**kwargs</code>：：接收所有关键字参数：为字典</p>
<h3 id="参数问题"><a href="#参数问题" class="headerlink" title="参数问题"></a>参数问题</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a, b, *args, name=<span class="string">'蔡徐坤'</span>, c, **kwargs)</span>:</span>  <span class="comment"># 顺序要这样，c是只能用关键字传值</span></span><br><span class="line">    <span class="keyword">print</span></span><br></pre></td></tr></table></figure>

<p>传参时，在可迭代对象前加<code>*</code>会打散放入<code>*args</code></p>
<p>在字典对象前加<code>**</code>会打散放入<code>**kwargs</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">dic1 = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">dic2 = &#123;<span class="string">'hobby'</span>: <span class="string">'喝茶'</span>, <span class="string">'sex'</span>: <span class="string">'男'</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(**kwargs)</span>:</span></span><br><span class="line">    print(kwargs) <span class="comment"># &#123;'name': '蔡徐坤', 'age': 18, 'hobby': '喝茶', 'sex': '男'&#125;</span></span><br><span class="line">func(**dic1,**dic2)</span><br><span class="line"></span><br><span class="line">s1 = <span class="string">'alex'</span></span><br><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">tu1 = (<span class="string">'武sir'</span>, <span class="string">'蔡徐坤'</span>, <span class="string">'女神'</span>,)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(*args)</span>:</span></span><br><span class="line">    print(args) <span class="comment"># ('a', 'l', 'e', 'x', 1, 2, 3, 4, '武sir', '蔡徐坤', '女神')</span></span><br><span class="line">func(*s1,*l1,*tu1)</span><br></pre></td></tr></table></figure>

<p>默认参数为可变参数问题</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(a, list=[])</span>:</span><span class="comment">#函数默认值为可变变量，一直会指向一个。反复使用</span></span><br><span class="line">    list.append(a)</span><br><span class="line">    <span class="keyword">return</span> list</span><br><span class="line">fun(<span class="number">1</span>)</span><br><span class="line">print(fun(<span class="string">"2"</span>))  <span class="comment"># [1, '2']</span></span><br></pre></td></tr></table></figure>

<h3 id="名称空间"><a href="#名称空间" class="headerlink" title="名称空间"></a>名称空间</h3><p>python一共三种名称空间，按照加载顺序排列</p>
<ul>
<li>内置名称空间（built-in）</li>
<li>全局名称空间</li>
<li>局部名称空间</li>
</ul>
<p>取值顺序</p>
<ul>
<li><p>就近原则</p>
</li>
<li><p>单项不可逆</p>
<ul>
<li><p>如果是全局得，只能从全局开始找</p>
</li>
<li><p>局部-&gt;全局-&gt;内置</p>
</li>
</ul>
</li>
</ul>
<p>作用域、</p>
<ul>
<li>全局作用域：内置名称空间、全局名称空间</li>
<li>局部作用域：局部名称空间</li>
</ul>
<blockquote>
<p>局部作用域可以引用全部作用域，不能改变</p>
</blockquote>
<blockquote>
<p>因为python解释器在读取到局部变量时，如果有对变量的修改动作，解释器会认为局部已经定义过这个局部变量，就会在局部找变量。</p>
<p>局部空间得局部空间也是一样</p>
</blockquote>
<p>LEGB原则（就近原则）</p>
<ul>
<li>L：local</li>
<li>E：eclose</li>
<li>G：global</li>
<li>B：builtin</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 特殊错误，记住</span></span><br><span class="line">con = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">()</span>:</span></span><br><span class="line">    print(con)</span><br><span class="line">    con = <span class="number">2</span><span class="comment">#在函数中如果定义了一个变量，但是在定义之前引用了，解释器认为语法出错</span></span><br></pre></td></tr></table></figure>

<h3 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h3><ul>
<li>globals()：返回的是字典，全局作用域的所有内容</li>
<li>locals()：返回的是字典，当前作用域的所有内容</li>
</ul>
<p>global、nonlocal</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">name=<span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> name<span class="comment">#声明为全局变量，修改全局变量</span></span><br><span class="line">    name =<span class="string">'11'</span></span><br><span class="line">func()</span><br><span class="line">print(name)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">()</span>:</span></span><br><span class="line">    count=<span class="number">1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">nonlocal</span> count<span class="comment">#nonlocal不能操作全局变量，内层函数对外层函数的局部变量进行修改</span></span><br><span class="line">        count+=<span class="number">1</span></span><br><span class="line">    inner()</span><br><span class="line">wrapper()</span><br></pre></td></tr></table></figure>

<h2 id="迭代、生成"><a href="#迭代、生成" class="headerlink" title="迭代、生成"></a>迭代、生成</h2><h3 id="可迭代对象"><a href="#可迭代对象" class="headerlink" title="可迭代对象"></a>可迭代对象</h3><p>可迭代对象：内部含有<code>__iter__</code>方法的对象，可迭代对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list = <span class="number">1</span></span><br><span class="line">print(dir(list))  <span class="comment"># 获取一个对象的所有方法</span></span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(obj))  <span class="comment"># 判断是否为可迭代对象</span></span><br></pre></td></tr></table></figure>

<p>优点</p>
<ul>
<li><p>存储的数据直接能显示，直观</p>
</li>
<li><p>拥有的方法多，操作便捷</p>
</li>
</ul>
<p>缺点</p>
<ul>
<li>占用内存</li>
<li>不能直接通过for循环，不能直接取值（索引，key）</li>
</ul>
<blockquote>
<p>迭代器可以直接for循环</p>
<p>可迭代对象内部先转化为迭代器，再用for</p>
</blockquote>
<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>在python中，内部含有<code>__Iter__</code>方法并且含有<code>__next__</code>方法的对象就是迭代器。</p>
<p>可迭代对象转化为迭代器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = l1.__iter__() </span><br><span class="line">obj = iter(s1)</span><br></pre></td></tr></table></figure>

<p>迭代器取值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s1 = <span class="string">"sdasda"</span></span><br><span class="line">ite = iter(s1)<span class="comment">#越界报错</span></span><br><span class="line">print(next(ite))<span class="comment">#s</span></span><br><span class="line">print(ite.__next__())<span class="comment">#d</span></span><br></pre></td></tr></table></figure>

<p>判断是否为迭代器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">o1 = <span class="string">'alex'</span></span><br><span class="line">o2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">o3 = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">o4 = &#123;<span class="string">'name'</span>: <span class="string">'蔡徐坤'</span>,<span class="string">'age'</span>: <span class="number">18</span>&#125;</span><br><span class="line">o5 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">f = open(<span class="string">'file'</span>,encoding=<span class="string">'utf-8'</span>, mode=<span class="string">'w'</span>)</span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(o1))  <span class="comment"># True</span></span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(o2))  <span class="comment"># True</span></span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(o3))  <span class="comment"># True</span></span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(o4))  <span class="comment"># True</span></span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(o5))  <span class="comment"># True</span></span><br><span class="line">print(<span class="string">'__iter__'</span> <span class="keyword">in</span> dir(f))  <span class="comment"># True</span></span><br><span class="line"><span class="comment"># hsagn</span></span><br><span class="line">print(<span class="string">'__next__'</span> <span class="keyword">in</span> dir(o1))  <span class="comment"># False</span></span><br><span class="line">print(<span class="string">'__next__'</span> <span class="keyword">in</span> dir(o2))  <span class="comment"># False</span></span><br><span class="line">print(<span class="string">'__next__'</span> <span class="keyword">in</span> dir(o3))  <span class="comment"># False</span></span><br><span class="line">print(<span class="string">'__next__'</span> <span class="keyword">in</span> dir(o4))  <span class="comment"># False</span></span><br><span class="line">print(<span class="string">'__next__'</span> <span class="keyword">in</span> dir(o5))  <span class="comment"># False</span></span><br><span class="line">print(<span class="string">'__next__'</span> <span class="keyword">in</span> dir(f))  <span class="comment"># True</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<p>优点</p>
<ul>
<li>节省内存： 迭代器在内存中相当于只占一个数据的空间：因为每次取值都上一条数据会在内存释放，加载当前的此条数据。</li>
<li>惰性机制：next一次，取一个值，绝不过多取值。</li>
</ul>
<p>缺点：</p>
<ul>
<li><p>不能直观的查看里面的数据。</p>
</li>
<li><p>取值时不走回头路，只能一直向下取值。</p>
</li>
</ul>
<h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><p>生成器本质就是迭代器</p>
<p>获取生成器三种方式</p>
<ul>
<li>生成器函数</li>
<li>生成器表达式</li>
<li>python内部提供</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">111</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line"><span class="comment"># 一个next对应一个yield，第一次next才会执行yield</span></span><br><span class="line">ret = func()  <span class="comment"># 这里不会执行</span></span><br><span class="line">next(ret)  <span class="comment"># 这里才会取值 执行</span></span><br><span class="line">next(ret)</span><br><span class="line">print(next(ret))  <span class="comment"># 4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="keyword">from</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">"sad"</span>]<span class="comment">#加上fromhi将list中的数据，扁平化返回</span></span><br><span class="line">ret=func()</span><br><span class="line">print(next(ret))</span><br></pre></td></tr></table></figure>

<p>send发送</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="comment"># print(f'&#123;name&#125; ready to eat')</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        food = <span class="keyword">yield</span> <span class="number">222</span>  <span class="comment"># 给food赋值，如果无发送值，则为None,yield返回222</span></span><br><span class="line">        print(<span class="string">f'<span class="subst">&#123;name&#125;</span> start to eat <span class="subst">&#123;food&#125;</span>'</span>)</span><br><span class="line">dog = gen(<span class="string">'alex'</span>)</span><br><span class="line">next(dog)  <span class="comment"># 第一次必须用next让指针停留在第一个yield后面</span></span><br><span class="line">next(dog)</span><br><span class="line"><span class="comment"># 与next一样，可以获取到yield的值</span></span><br><span class="line">ret = dog.send(<span class="string">'蔡徐坤'</span>)<span class="comment">#先发送再往下走</span></span><br><span class="line">print(<span class="string">"woqiao"</span>,ret)</span><br></pre></td></tr></table></figure>

<p><strong>next和sen的区别</strong></p>
<ul>
<li><p>相同点：</p>
<ul>
<li><p>send 和 next()都可以让生成器对应的yield向下执行一次。</p>
</li>
<li><p>都可以获取到yield生成的值。</p>
</li>
</ul>
</li>
<li><p>不同点：</p>
<ul>
<li><p>第一次获取yield值只能用next不能用send（可以用send(None)）。</p>
</li>
<li><p>send可以给上一个yield置传递值。</p>
</li>
</ul>
</li>
</ul>
<h4 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h4><ul>
<li>循环模式：[变量(加工的变量) for 变量 in iterable]</li>
<li>筛选模式：[变量(加工的变量) for 变量 in iterable if 条件]</li>
</ul>
<p><strong>循环模式</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line">print(ls)<span class="comment">#[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="string">f'python<span class="subst">&#123;i&#125;</span>'</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">10</span>)]</span><br><span class="line">print(lst)<span class="comment">#['python1', 'python2', 'python3', 'python4'...</span></span><br></pre></td></tr></table></figure>

<p><strong>筛选模式</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">multiples = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">if</span> i % <span class="number">3</span> <span class="keyword">is</span> <span class="number">0</span>]</span><br><span class="line">print(multiples)  <span class="comment"># [0, 3, 6, 9]</span></span><br></pre></td></tr></table></figure>

<p><strong>列表推导式缺陷</strong>：</p>
<ol>
<li>只能构建笔记复杂且有规律的列表</li>
<li>超过三层循环才能构建成功的，不建议</li>
<li>查找错误（debug模式）不行</li>
</ol>
<p><strong>字典推导式</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lst1 = [<span class="string">'jay'</span>, <span class="string">'jj'</span>, <span class="string">'meet'</span>]</span><br><span class="line">lst2 = [<span class="string">'周杰伦'</span>, <span class="string">'林俊杰'</span>, <span class="string">'郭宝元'</span>]</span><br><span class="line">dic = &#123;lst1[i]: lst2[i] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(lst1))&#125;</span><br><span class="line">print(dic)</span><br></pre></td></tr></table></figure>

<p><strong>集合推导式</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">-1</span>, <span class="number">-3</span>, <span class="number">-7</span>, <span class="number">9</span>]</span><br><span class="line">s = &#123;abs(i) <span class="keyword">for</span> i <span class="keyword">in</span> lst&#125;</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<p><strong>生成器表达式</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成器表达式</span></span><br><span class="line">gen = (i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>

<p>推导式是iterable</p>
<p>表达式是iterator</p>
<h2 id="内置函数-1"><a href="#内置函数-1" class="headerlink" title="内置函数"></a>内置函数</h2><p>一共68个内置函数</p>
<ul>
<li><p>了解：all()  any()  bytes() callable() chr() complex() divmod() eval() exec() format() frozenset() globals() hash() help() id() input() int()  iter() locals() next()  oct()  ord()  pow()    repr()  round()</p>
</li>
<li><p>重点：abs() enumerate() filter()  map() max()  min() open()  range() print()  len()  list()  dict() str()  float() reversed()  set()  sorted()  sum()    tuple()  type()  zip()  dir() </p>
</li>
<li><p>暂时无法使用： classmethod()  delattr() getattr() hasattr()  issubclass()  isinstance()  object() property()  setattr()  staticmethod()  super()</p>
</li>
</ul>
<p><a href="https://www.processon.com/view/link/5b4ee15be4b0edb750de96ac#map" target="_blank" rel="noopener">思维导图</a></p>
<h3 id="了解"><a href="#了解" class="headerlink" title="了解"></a>了解</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#eval：执行字符串类型的代码，并返回最终结果。</span></span><br><span class="line">eval(<span class="string">'print(666)'</span>)  <span class="comment"># 666</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#exec:可以处理代码流。</span></span><br><span class="line">msg=<span class="string">"""</span></span><br><span class="line"><span class="string">for i in range(10):</span></span><br><span class="line"><span class="string">    print(i)</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">exec(msg)<span class="comment">#eval处理会报错</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#hash：获取一个对象（可哈希对象：int，str，Bool，tuple）的哈希值。</span></span><br><span class="line">print(hash(<span class="number">12322</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#help：函数用于查看函数或模块用途的详细说明。</span></span><br><span class="line">print(help(list))</span><br><span class="line">print(help(str.split))</span><br><span class="line"></span><br><span class="line"><span class="comment">#callable：函数用于检查一个对象是否是可调用的。如果返回True，object仍然可能调用失败；但如果返回False，调用对象ojbect绝对不会成功。</span></span><br><span class="line">name = <span class="string">'alex'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">print(callable(name))  <span class="comment"># False</span></span><br><span class="line">print(callable(func))  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#int：函数用于将一个字符串或数字转换为整型。</span></span><br><span class="line"><span class="comment">#float：函数用于将整数和字符串转换成浮点数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#complex：函数用于创建一个值为 real + imag * j 的复数或者转化一个字符串或数为复数。如果第一个参数为字符串，则不需要指定第二个参数</span></span><br><span class="line">print(complex(<span class="string">"1+2j"</span>))  <span class="comment"># (1+2j)</span></span><br><span class="line">print(complex(<span class="number">1</span>,<span class="number">2</span>))  <span class="comment"># (1+2j)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#bin：将十进制转换成二进制并返回。</span></span><br><span class="line"><span class="comment">#oct：将十进制转化成八进制字符串并返回。</span></span><br><span class="line"><span class="comment">#hex：将十进制转化成十六进制字符串并返回。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#divmod：计算除数与被除数的结果，返回一个包含商和余数的元组(a // b, a % b)。</span></span><br><span class="line"><span class="comment">#round：保留浮点数的小数位数，默认保留整数。</span></span><br><span class="line"><span class="comment">#pow：求x**y次幂。（三个参数为x**y的结果对z取余）</span></span><br><span class="line">print(divmod(<span class="number">7</span>,<span class="number">2</span>))  <span class="comment"># (3, 1)</span></span><br><span class="line">print(round(<span class="number">7</span>/<span class="number">3</span>,<span class="number">2</span>))  <span class="comment"># 2.33</span></span><br><span class="line">print(round(<span class="number">7</span>/<span class="number">3</span>))  <span class="comment"># 2</span></span><br><span class="line">print(round(<span class="number">3.32567</span>,<span class="number">3</span>))  <span class="comment"># 3.326</span></span><br><span class="line">print(pow(<span class="number">2</span>,<span class="number">3</span>))  <span class="comment"># 两个参数为2**3次幂</span></span><br><span class="line">print(pow(<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>))  <span class="comment"># 三个参数为2**3次幂，对3取余。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#bytes：用于不同编码之间的转化。</span></span><br><span class="line">s = <span class="string">'你好'</span></span><br><span class="line">bs = s.encode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(bs)</span><br><span class="line">s1 = bs.decode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(s1)</span><br><span class="line">bs = bytes(s,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">print(bs)</span><br><span class="line">b = <span class="string">'你好'</span>.encode(<span class="string">'gbk'</span>)</span><br><span class="line">b1 = b.decode(<span class="string">'gbk'</span>)</span><br><span class="line">print(b1.encode(<span class="string">'utf-8'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#ord:输入字符找该字符编码的位置</span></span><br><span class="line"><span class="comment">#chr:输入位置数字找出其对应的字符</span></span><br><span class="line"><span class="comment"># ord 输入字符找该字符编码的位置</span></span><br><span class="line">print(ord(<span class="string">'a'</span>))</span><br><span class="line">print(ord(<span class="string">'中'</span>))</span><br><span class="line"><span class="comment"># chr 输入位置数字找出其对应的字符</span></span><br><span class="line">print(chr(<span class="number">97</span>))</span><br><span class="line">print(chr(<span class="number">20013</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#repr:返回一个对象的string形式（原形毕露）。</span></span><br><span class="line"><span class="comment"># %r  原封不动的写出来</span></span><br><span class="line">name = <span class="string">'taibai'</span></span><br><span class="line">print(<span class="string">'我叫%r'</span>%name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># repr 原形毕露</span></span><br><span class="line">print(repr(<span class="string">'&#123;"name":"alex"&#125;'</span>))</span><br><span class="line">print(<span class="string">'&#123;"name":"alex"&#125;'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#all：可迭代对象中，全都是True才是True</span></span><br><span class="line"><span class="comment">#any：可迭代对象中，有一个True 就是True</span></span><br></pre></td></tr></table></figure>

<h3 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#print() 屏幕输出。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print</span><span class="params">(self, *args, sep=<span class="string">' '</span>, end=<span class="string">'\n'</span>, file=None)</span>:</span> <span class="comment"># known special case of print</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    print(value, ..., sep=' ', end='\n', file=sys.stdout, flush=False)</span></span><br><span class="line"><span class="string">    file:  默认是输出到屏幕，如果设置为文件句柄，输出到文件</span></span><br><span class="line"><span class="string">    sep:   分隔符，打印多个值之间的分隔符，默认为空格</span></span><br><span class="line"><span class="string">    end:   每一次打印的结尾，默认为换行符</span></span><br><span class="line"><span class="string">    flush: 立即把内容输出到流文件，不作缓存</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#int():pass</span></span><br><span class="line"><span class="comment">#str():pass</span></span><br><span class="line"><span class="comment">#bool():pass</span></span><br><span class="line"><span class="comment">#set(): pass</span></span><br><span class="line"><span class="comment">#list() 将一个可迭代对象转换成列表</span></span><br><span class="line"><span class="comment">#tuple() 将一个可迭代对象转换成元组</span></span><br><span class="line"><span class="comment">#dict() 通过相应的方式创建字典。</span></span><br><span class="line"><span class="comment">#abs() 返回绝对值</span></span><br><span class="line"><span class="comment">#sum() 求和</span></span><br><span class="line">l1 = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line">print(sum(l1))<span class="comment">#45</span></span><br><span class="line">print(sum(l1,<span class="number">100</span>))<span class="comment">#145</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#min() 求最小值</span></span><br><span class="line"><span class="comment">#根据绝对值取最小</span></span><br><span class="line">a=min([<span class="number">-1</span>, <span class="number">-2</span>, <span class="number">-3</span>], key=abs)  <span class="comment"># key可以传函数名</span></span><br><span class="line">print(a)</span><br><span class="line">dic = &#123;<span class="string">'a'</span>: <span class="number">3</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">1</span>&#125;</span><br><span class="line">print(min(dic))  <span class="comment"># 默认按照键排序</span></span><br><span class="line">print(min(dic, key=<span class="keyword">lambda</span> x: dic[x]))  <span class="comment"># 根据值排序</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#max() 最大值与最小值用法相同。</span></span><br><span class="line"><span class="comment">#reversed() 将一个序列翻转, 返回翻转序列的迭代器 </span></span><br><span class="line">l = reversed(<span class="string">'你好'</span>)  <span class="comment"># l 获取到的是一个生成器</span></span><br><span class="line">print(list(l))</span><br><span class="line">ret = reversed([<span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>])</span><br><span class="line">print(list(ret))  <span class="comment"># [9, 7, 3, 4, 1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#bytes() 把字符串转换成bytes类型</span></span><br><span class="line">s = <span class="string">'你好太白'</span></span><br><span class="line">bs = s.encode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(bs)  <span class="comment"># b'\xe4\xbd\xa0\xe5\xa5\xbd\xe6\xad\xa6\xe5\xa4\xa7'</span></span><br><span class="line">s1 = bs.decode(<span class="string">'utf-8'</span>)</span><br><span class="line">print(s1)  <span class="comment"># 你好太白</span></span><br><span class="line">s = <span class="string">'你好'</span></span><br><span class="line">bs = bytes(s, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">print(bs)</span><br><span class="line"><span class="comment"># 将字符串转换成字节</span></span><br><span class="line">bs1 = str(bs, encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">print(bs1)</span><br><span class="line"><span class="comment"># 将字节转换成字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#zip() 拉链方法。函数用于将可迭代的对象作为参数,将对象中对应的元素打包成一个个元组,然后返回由这些元祖组成的内容,如果各个迭代器的元素个数不一致,则按照长度最短的返回</span></span><br><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">tu1 = (<span class="string">"蔡徐坤"</span>, <span class="string">"笨比"</span>, <span class="string">"奥里给"</span>, <span class="string">"死丢比特"</span>)</span><br><span class="line">s1 = <span class="string">"一二三四五"</span></span><br><span class="line">obj = zip(l1, tu1, s1)<span class="comment">#取短的</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> obj:</span><br><span class="line">    print(i)</span><br><span class="line"><span class="comment">#(1, '蔡徐坤', '一')</span></span><br><span class="line"><span class="comment">#(2, '笨比', '二')</span></span><br><span class="line"><span class="comment">#(3, '奥里给', '三')</span></span><br><span class="line"><span class="comment">#(4, '死丢比特', '四')</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sorted排序函数，返回一个新的列表</span></span><br><span class="line">a = [(<span class="string">"奥里给"</span>, <span class="number">3</span>), (<span class="string">"蔡徐坤"</span>, <span class="number">5</span>), (<span class="string">"礼拜"</span>, <span class="number">2</span>), (<span class="string">"杜甫"</span>, <span class="number">13</span>), (<span class="string">"sqq"</span>, <span class="number">33</span>)]</span><br><span class="line">print(sorted(a, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#filter筛选过滤，根据function返回的True或者False来判断是否保留此项数据</span></span><br><span class="line"><span class="comment">#filter(function, iterable)</span></span><br><span class="line">lst = [&#123;<span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'name'</span>: <span class="string">'alex'</span>, <span class="string">'age'</span>: <span class="number">18</span>&#125;,</span><br><span class="line">       &#123;<span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'name'</span>: <span class="string">'wusir'</span>, <span class="string">'age'</span>: <span class="number">17</span>&#125;,</span><br><span class="line">       &#123;<span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'name'</span>: <span class="string">'taibai'</span>, <span class="string">'age'</span>: <span class="number">16</span>&#125;, ]</span><br><span class="line">ls = filter(<span class="keyword">lambda</span> e: e[<span class="string">'age'</span>] &gt; <span class="number">16</span>, lst)</span><br><span class="line">print(list(ls))<span class="comment">#[&#123;'id': 1, 'name': 'alex', 'age': 18&#125;, &#123;'id': 1, 'name': 'wusir', 'age': 17&#125;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#map</span></span><br><span class="line"><span class="comment">#返回迭代器</span></span><br><span class="line"><span class="comment">#语法: map(function,iterable) 可以对可迭代对象中的每一个元素进映射,分别取执行function</span></span><br><span class="line"><span class="comment">#计算列表中每个元素的平方,返回新列表</span></span><br><span class="line">lst = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="keyword">return</span>  s*s</span><br><span class="line">mp = map(func,lst)</span><br><span class="line">print(mp)</span><br><span class="line">print(list(mp))</span><br><span class="line"><span class="comment">#改写成lambda</span></span><br><span class="line">lst = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">print(list(map(<span class="keyword">lambda</span> s:s*s,lst)))</span><br><span class="line"><span class="comment">#计算两个列表中相同位置的数据的和</span></span><br><span class="line">lst1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">lst2 = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>]</span><br><span class="line">print(list(map(<span class="keyword">lambda</span> x, y: x+y, lst1, lst2)))</span><br><span class="line"></span><br><span class="line"><span class="comment">#reduce python3不是内置函数了</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(x,y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"><span class="comment"># reduce 的使用方式:</span></span><br><span class="line"><span class="comment"># reduce(函数名,可迭代对象)  # 这两个参数必须都要有,缺一个不行</span></span><br><span class="line">ret = reduce(func,[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>])</span><br><span class="line">print(ret)  <span class="comment"># 结果 25</span></span><br></pre></td></tr></table></figure>

<h2 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h2><p>函数名 = lambda 参数:返回值</p>
<p>所有类型的形参都可以加，但是一般使用匿名函数只是加位置参数，其他的用不到。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">func = <span class="keyword">lambda</span> x,y: x <span class="keyword">if</span> x &gt; y <span class="keyword">else</span> y</span><br><span class="line">print(func(<span class="number">3</span>,<span class="number">100</span>))</span><br></pre></td></tr></table></figure>

<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>保证程序的安全</p>
<p>闭包：内层函数对外层函数的非全局变量的引用，就会形成闭包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_averager</span><span class="params">()</span>:</span></span><br><span class="line">    l1=[]<span class="comment">#自由变量 会一直保留</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">averager</span><span class="params">(new_value)</span>:</span></span><br><span class="line">        l1.append(new_value)</span><br><span class="line">        <span class="keyword">return</span> sum(l1)/len(l1)</span><br><span class="line">    <span class="keyword">return</span> averager</span><br><span class="line">func=make_averager()</span><br><span class="line">print(func(<span class="number">1</span>))</span><br><span class="line">print(func(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<p>代码判断闭包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#判断是否为闭包</span></span><br><span class="line">func.__code__.co_freevars<span class="comment">#查看自由变量名，如果有就是闭包</span></span><br></pre></td></tr></table></figure>

<p>其余了解参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 函数名.__code__.co_freevars 查看函数的自由变量</span></span><br><span class="line">print(avg.__code__.co_freevars)  <span class="comment"># ('series',)</span></span><br><span class="line"><span class="comment"># 函数名.__code__.co_varnames 查看函数的局部变量</span></span><br><span class="line">print(avg.__code__.co_varnames)  <span class="comment"># ('new_value', 'total')</span></span><br><span class="line"><span class="comment"># 函数名.__closure__ 获取具体的自由变量对象，也就是cell对象。</span></span><br><span class="line"><span class="comment"># (&lt;cell at 0x0000020070CB7618: int object at 0x000000005CA08090&gt;,)</span></span><br><span class="line"><span class="comment"># cell_contents 自由变量具体的值</span></span><br><span class="line">print(avg.__closure__[<span class="number">0</span>].cell_contents)  <span class="comment"># []</span></span><br></pre></td></tr></table></figure>

<h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><p>装饰器：在不改变原被装饰的函数的<strong>源代码</strong>以及<strong>调用方式</strong>下，为其添加额外的功能。</p>
<blockquote>
<p>装饰器本质就是闭包</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timer</span><span class="params">(func)</span>:</span>  <span class="comment"># func = index</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        func()</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        print(<span class="string">f'此函数的执行效率为<span class="subst">&#123;end_time-start_time&#125;</span>'</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"冲冲冲"</span>)</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    print(<span class="string">"冲不动了"</span>)</span><br><span class="line">index = timer(index)</span><br><span class="line">index()</span><br><span class="line"><span class="comment">#冲冲冲</span></span><br><span class="line"><span class="comment">#冲不动了</span></span><br><span class="line"><span class="comment">#此函数的执行效率为3.0012567043304443</span></span><br></pre></td></tr></table></figure>

<p>装饰器语法糖：@+装饰器函数名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">timer</span><span class="params">(func)</span>:</span>  <span class="comment"># func = index</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">        start_time = time.time()</span><br><span class="line">        func()</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        print(<span class="string">f'此函数的执行效率为<span class="subst">&#123;end_time-start_time&#125;</span>'</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"><span class="meta">@timer#@+装饰器函数名</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"冲冲冲"</span>)</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    print(<span class="string">"冲不动了"</span>)</span><br><span class="line">index()</span><br></pre></td></tr></table></figure>

<p>标准装饰器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">        <span class="string">'''执行被装饰函数之前的操作'''</span></span><br><span class="line">        r= func(*args,**kwargs)</span><br><span class="line">        <span class="string">'''执行被装饰函数之后的操作'''</span></span><br><span class="line">        <span class="keyword">return</span>  r</span><br><span class="line">    <span class="keyword">return</span> inner</span><br></pre></td></tr></table></figure>

<p>带参装饰器</p>
<p>就是在原来的装饰器基础上再包装一层，用来传参，返回装饰器</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xxx</span><span class="params">(*args)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(func)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">            ret = func(*args,**kwargs)</span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@xxx('参数')  #  == @wrapper</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>样例</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用装饰器传入值，能控制写到哪个文件夹</span></span><br><span class="line"><span class="comment"># 写了很多的函数</span></span><br><span class="line"><span class="comment"># 添加日志 : 在 时间 调用了什么函数</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logger</span><span class="params">(path)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">log</span><span class="params">(func)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span></span><br><span class="line">            ret = func(*args,**kwargs)</span><br><span class="line">            <span class="keyword">with</span> open(path,mode=<span class="string">'a'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                msg = <span class="string">'%s 执行了%s'</span>%(time.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>),func.__name__)</span><br><span class="line">                f.write(msg)</span><br><span class="line">            <span class="keyword">return</span> ret</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="keyword">return</span> log</span><br><span class="line"></span><br><span class="line"><span class="meta">@logger('auth.log')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'登录的逻辑'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@logger('auth.log')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">register</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'注册的逻辑'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@logger('auth.log')     # ret = log('auth.log')   show_goods = ret(show_goods)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_goods</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'查看所有商品信息'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@logger('buy.log')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_goods</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'商品加入购物车'</span>)</span><br></pre></td></tr></table></figure>



<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><ul>
<li><p>内置模块</p>
</li>
<li><p>第三方模块</p>
</li>
<li><p>自定义模块</p>
</li>
</ul>
<p><code>__name__</code>：在脚本方式运行时，为<code>__main__</code>，以导入方式运行时，就是模块名字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#这里写本模块测试的代码</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(__name__==<span class="string">"__main__"</span>):</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<p><code>__file__</code>：当前文件的绝对路径</p>
<p>系统导入模块的路径</p>
<ul>
<li>内存中：如果之前引入成功过某个模块，直接使用以及存在的模块</li>
<li>内置路径下：python解释器的lib文件夹下。<ul>
<li>site-packages：放第三方模块</li>
</ul>
</li>
<li>PYTHONPATH:import时寻找模块的路径</li>
<li>sys.path：是一个路径的列表</li>
</ul>
<p>添加寻找模块的路径</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">print(__file__)  <span class="comment"># 当前文件的绝对路径</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">path = os.path.dirname(__file__)  <span class="comment"># 本文件的文件夹路径</span></span><br><span class="line">sys.path.append(path + <span class="string">"/aa"</span>)  <span class="comment">#添加引入路径</span></span><br></pre></td></tr></table></figure>

<p>模块导入方式</p>
<ul>
<li><code>import xxx</code>：导入模块的所有成员</li>
<li><code>import aaa,bbb</code>：导入多个模块的所有成员，不建议</li>
<li><code>from xxx import a</code>：从xxx模块导入a成员</li>
<li><code>from xxx import *</code>：导入模块的所有成员，不用写模块前缀</li>
<li><code>from xxx import a as b</code>：把a改名为b</li>
<li><code>import xxx as a</code>：给模块取别名为a</li>
</ul>
<p>导入后执行三件事</p>
<ul>
<li>在内存中创建相应的名称空间<ul>
<li>被导入模块有独立的名称空间，比如<code>global</code>引入也无法改变不同模块的值</li>
</ul>
</li>
<li>执行名称空间的可执行代码</li>
<li>通过<code>模块名.</code>的方式引入代码</li>
</ul>
<p><code>__all__</code>是一个列表，用于表示本模块可以被外部使用的成员名。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a, b, c, d, e, f, g, h = <span class="number">1</span></span><br><span class="line">__all__ = [</span><br><span class="line">    <span class="string">'a'</span>,</span><br><span class="line">    <span class="string">'b'</span>,</span><br><span class="line">    <span class="string">'c'</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>相对导入</strong></p>
<ul>
<li><code>.</code>：表示当前路径</li>
<li><code>..</code>：上一级路径</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ..z <span class="keyword">import</span> zz<span class="comment">#在父路径的z文件夹导入zz模块</span></span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> abc<span class="comment">#在当前文件夹下导入abc模块</span></span><br><span class="line"><span class="keyword">from</span> ..z.zz <span class="keyword">import</span> *<span class="comment">#导入父路径的z文件夹下的zz模块</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果引入的模块它的成员也是引用的要用<code>模块名.模块引用的引用名.成员名</code></p>
</blockquote>
<p>  模块循环/嵌套导入抛出异常：相互依赖，抛出异常。尽量避免。如果出现多个模块都需要共享的数据，可以将共享的数据集中存放到某一个地方</p>
<h2 id="常用模块"><a href="#常用模块" class="headerlink" title="常用模块"></a>常用模块</h2><p>查看可用成员</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> xxx</span><br><span class="line">dir(xxx)</span><br></pre></td></tr></table></figure>

<p>python内置模块200多种</p>
<p>第三方模块6000多种</p>
<h3 id="random"><a href="#random" class="headerlink" title="random"></a>random</h3><ul>
<li>random.random()：获取[0,1)内的浮点数</li>
<li>random.randint(a,b)：获取[a,b]内的一个整数</li>
<li>random.uniform(a,b)：获取[a,b)内的浮点数</li>
<li>random.shuffle(x)：混洗。将参数指定的数据中的元素打乱。参数必须为可变的数据类型</li>
<li>random.sample(x,k)：在x中随机抽取k个数据，组成列表返回</li>
</ul>
<h3 id="time"><a href="#time" class="headerlink" title="time"></a>time</h3><ul>
<li>time.time()：获取时间戳，秒数</li>
<li>time.gmtime()： 获取格式化时间对象（欧洲的）</li>
<li>time.localtime()： 获取当地时间<ul>
<li>tm_year：年  tm_mon：月, tm_mday：日, tm_hour：时, tm_min：分, tm_sec：秒, tm_wday：一周的第几天, tm_yday：一年的第几天, tm_isdst夏令时，现在已经取消了</li>
</ul>
</li>
<li>time.gmtime(1)：时间元年过一秒的时间对象</li>
<li>time.strftime(“%Y %m %d %H:%M”)： 2019 12 28 18:42 Y表示2019，y表示19</li>
<li>time.strptime(“2019 12 28”,’%Y %m %d’)： 解析时间</li>
<li>time.mktime(time.localtime())：时间对象-&gt;时间戳</li>
<li>time.sleep(3)：暂停当前程序，3秒</li>
</ul>
<p><img src="/2019/12/22/python%E7%AC%94%E8%AE%B0/python_1.png" alt></p>
<h3 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h3><p>年月日：date、时分秒：time</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">d = datetime.date(<span class="number">2019</span>, <span class="number">12</span>, <span class="number">28</span>)  <span class="comment"># 指定年月日</span></span><br><span class="line">d.year</span><br><span class="line">d.month</span><br><span class="line">d.day</span><br><span class="line">t = datetime.time(<span class="number">15</span>, <span class="number">48</span>, <span class="number">56</span>)  <span class="comment"># 指定时分秒 time类无法参与运算</span></span><br><span class="line">t.hour</span><br><span class="line">t.minute</span><br><span class="line">t.second</span><br><span class="line">dt = datetime.datetime(<span class="number">2019</span>, <span class="number">12</span>, <span class="number">28</span>, <span class="number">15</span>, <span class="number">48</span>, <span class="number">56</span>)  <span class="comment"># 指定年月日时分秒1</span></span><br><span class="line">print(dt)  <span class="comment"># 2019-12-28 15:48:56</span></span><br><span class="line">td = datetime.timedelta(days=<span class="number">1</span>)  <span class="comment"># 时间变化量</span></span><br><span class="line">res = d + td  <span class="comment"># d加一天</span></span><br></pre></td></tr></table></figure>

<h3 id="os"><a href="#os" class="headerlink" title="os"></a>os</h3><p><strong>当前执行这个python文件的工作目录相关的工作路径</strong></p>
<ul>
<li>os.getcwd() 获取当前工作目录，即当前python脚本工作的目录路径</li>
<li>os.chdir(“dirname”)  改变当前脚本工作目录；相当于shell下cd</li>
<li>os.curdir  返回当前目录: (‘.’)</li>
<li>os.pardir  获取当前目录的父目录字符串名：(‘..’)</li>
</ul>
<p><strong>和文件夹相关</strong></p>
<ul>
<li>os.makedirs(‘dirname1/dirname2’)    可生成多层递归目录</li>
<li>os.removedirs(‘dirname1’)    若目录为空，则删除，并递归到上一级目录，如若也为空，则删除，依此类推</li>
<li>os.mkdir(‘dirname’)    生成单级目录；相当于shell中mkdir dirname</li>
<li>os.rmdir(‘dirname’)    删除单级空目录，若目录不为空则无法删除，报错；相当于shell中rmdir dirname</li>
<li>os.listdir(‘dirname’)    列出指定目录下的所有文件和子目录，包括隐藏文件，并以列表方式打印</li>
</ul>
<p><strong>和文件相关</strong></p>
<ul>
<li><p>os.remove()  删除一个文件</p>
</li>
<li><p>os.rename(“oldname”,”newname”)  重命名文件/目录</p>
</li>
<li><p>os.stat(‘path/filename’)  获取文件/目录信息</p>
</li>
</ul>
<p><strong>和操作系统差异相关</strong></p>
<ul>
<li>os.sep    输出操作系统特定的路径分隔符，win下为”\“,Linux下为”/“</li>
<li>os.linesep    输出当前平台使用的行终止符，win下为”\t\n”,Linux下为”\n”</li>
<li>os.pathsep    输出用于分割文件路径的字符串 win下为;,Linux下为:</li>
<li>os.name    输出字符串指示当前使用平台。win-&gt;’nt’; Linux-&gt;’posix’</li>
</ul>
<p><strong>和执行系统命令相关</strong></p>
<ul>
<li>os.system(“bash command”)  运行shell命令，直接显示</li>
<li>os.popen(“bash command).read()  运行shell命令，获取执行结果</li>
<li>os.environ  获取系统环境变量</li>
</ul>
<p><strong>path系列，和路径相关</strong></p>
<ul>
<li>os.path.abspath(path)返回path规范化的绝对路径,<code>/</code>开头默认当前盘符</li>
<li>os.path.split(path) 将path分割成目录和文件名二元组返回</li>
<li>os.path.dirname(path) 返回path的目录。其实就是os.path.split(path)的第一个元素</li>
<li>os.path.basename(path) 返回path最后的文件名。如何path以／或\结尾，那么就会返回空值，即os.path.split(path)的第二个元素。</li>
<li>os.path.exists(path)  如果path存在，返回True；如果path不存在，返回False</li>
<li>os.path.isabs(path)  如果path是绝对路径，返回True</li>
<li>os.path.isfile(path)  如果path是一个存在的文件，返回True。否则返回False</li>
<li>os.path.isdir(path)  如果path是一个存在的目录，则返回True。否则返回False</li>
<li>os.path.join(path1[, path2[, …]])  将多个路径组合后返回，第一个绝对路径之前的参数将被忽略</li>
<li>os.path.getatime(path)  返回path所指向的文件或者目录的最后访问时间</li>
<li>os.path.getmtime(path)  返回path所指向的文件或者目录的最后修改时间</li>
<li>os.path.getsize(path) 返回path的大小</li>
</ul>
<h3 id="sys"><a href="#sys" class="headerlink" title="sys"></a>sys</h3><ul>
<li>sys.argv：命令行参数List，第一个元素是程序本身路径。可以获取脚本后加的参数</li>
<li>sys.exit(n)：退出程序，正常退出时exit(0),错误退出sys.exit(1)</li>
<li>sys.version：获取Python解释程序的版本信息</li>
<li>sys.path：返回模块的搜索路径，初始化时使用PYTHONPATH环境变量的值</li>
<li>sys.platform：返回操作系统平台名称</li>
<li>sys.setrecursionlimit(limit)：设置递归的最大次数</li>
<li>sys.modules：查看已经加载的模块</li>
</ul>
<h3 id="json"><a href="#json" class="headerlink" title="json"></a>json</h3><p><strong>与内存的序列化和反序列化</strong></p>
<ul>
<li>json.dumps(obj)：序列化</li>
<li>json.loads(str)：反序列化</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">dic =[<span class="number">1</span>,[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>],<span class="number">3</span>,&#123;<span class="string">'k1'</span>:<span class="string">'v1'</span>,<span class="string">'k2'</span>:<span class="string">'v2'</span>&#125;]</span><br><span class="line">str_dic = json.dumps(dic)  <span class="comment">#序列化：将一个字典转换成一个字符串</span></span><br><span class="line">print(type(str_dic),str_dic)  <span class="comment">#&lt;class 'str'&gt; [1, ["a", "b", "c"], 3, &#123;"k1": "v1", "k2": "v2"&#125;]</span></span><br><span class="line"><span class="comment">#可以嵌套</span></span><br><span class="line"><span class="comment">#注意，json转换完的字符串类型的字典中的字符串是由""表示的</span></span><br><span class="line"><span class="comment">#元组序列化后变成了列表</span></span><br><span class="line"></span><br><span class="line">dic2 = json.loads(str_dic)  <span class="comment">#反序列化：将一个字符串格式的字典转换成一个字典</span></span><br><span class="line"><span class="comment">#注意，要用json的loads功能处理的字符串类型的字典中的字符串必须由""表示</span></span><br><span class="line">print(type(dic2),dic2)  <span class="comment">#&lt;class 'list'&gt; [1, ['a', 'b', 'c'], 3, &#123;'k1': 'v1', 'k2': 'v2'&#125;]</span></span><br></pre></td></tr></table></figure>

<p><strong>与文件的序列化和反序列化</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">f = open(<span class="string">'json_file.json'</span>,<span class="string">'w'</span>)</span><br><span class="line">dic = &#123;<span class="string">'k1'</span>:<span class="string">'v1'</span>,<span class="string">'k2'</span>:<span class="string">'v2'</span>,<span class="string">'k3'</span>:<span class="string">'v3'</span>&#125;</span><br><span class="line">json.dump(dic,f)  <span class="comment">#dump方法接收一个文件句柄，直接将字典转换成json字符串写入文件</span></span><br><span class="line">f.close()</span><br><span class="line"><span class="comment"># json文件也是文件，就是专门存储json字符串的文件。</span></span><br><span class="line">f = open(<span class="string">'json_file.json'</span>)</span><br><span class="line">dic2 = json.load(f)  <span class="comment">#load方法接收一个文件句柄，直接将文件中的json字符串转换成数据结构返回</span></span><br><span class="line">f.close()</span><br><span class="line">print(type(dic2),dic2)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>通常一个文件只存一个json。如果想存多个，可以通过<code>\n</code>来实现</p>
</blockquote>
<h3 id="pickle"><a href="#pickle" class="headerlink" title="pickle"></a>pickle</h3><p>python的序列化和反序列化</p>
<p><strong>内存</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle  <span class="comment"># 所有数据类型</span></span><br><span class="line">dic = &#123;<span class="string">'k1'</span>: <span class="string">'v1'</span>, <span class="string">'k2'</span>: <span class="string">'v2'</span>, <span class="string">'k3'</span>: <span class="string">'v3'</span>&#125;</span><br><span class="line">str_dic = pickle.dumps(dic)  <span class="comment"># bytes类型</span></span><br><span class="line">dic2 = pickle.loads(str_dic)  <span class="comment"># 反序列化</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 还可以序列化对象</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">666</span>)</span><br><span class="line">ret = pickle.dumps(func)<span class="comment">#可以序列化函数</span></span><br><span class="line">f1 = pickle.loads(ret)  <span class="comment"># f1得到 func函数的内存地址</span></span><br><span class="line">f1()  <span class="comment"># 执行func函数</span></span><br></pre></td></tr></table></figure>

<p><strong>文件</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">dic = &#123;(<span class="number">1</span>, <span class="number">2</span>): <span class="string">'oldboy'</span>, <span class="number">1</span>: <span class="literal">True</span>, <span class="string">'set'</span>: &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;&#125;</span><br><span class="line">f = open(<span class="string">'pick序列化'</span>, mode=<span class="string">'wb'</span>)</span><br><span class="line">pickle.dump(dic, f)</span><br><span class="line">f.close()</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'pick序列化'</span>, mode=<span class="string">'wb'</span>) <span class="keyword">as</span> f1:</span><br><span class="line">    pickle.dump(dic, f1)</span><br><span class="line"></span><br><span class="line">dic1 = &#123;<span class="string">'name'</span>: <span class="string">'oldboy1'</span>&#125;</span><br><span class="line">dic2 = &#123;<span class="string">'name'</span>: <span class="string">'oldboy2'</span>&#125;</span><br><span class="line">dic3 = &#123;<span class="string">'name'</span>: <span class="string">'oldboy3'</span>&#125;</span><br><span class="line"></span><br><span class="line">f = open(<span class="string">'pick多数据'</span>, mode=<span class="string">'wb'</span>)</span><br><span class="line">pickle.dump(dic1, f)</span><br><span class="line">pickle.dump(dic2, f)</span><br><span class="line">pickle.dump(dic3, f)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">f = open(<span class="string">'pick多数据'</span>, mode=<span class="string">'rb'</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(pickle.load(f))</span><br><span class="line">    <span class="keyword">except</span> EOFError:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以但不推荐使用多次</p>
</blockquote>
<h3 id="hashlib"><a href="#hashlib" class="headerlink" title="hashlib"></a>hashlib</h3><p>sha：后面数字越大，加密越复杂，安全系数越大，耗时越长</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line">md5 = hashlib.md5()  <span class="comment"># 获取一个新的md5加密对象</span></span><br><span class="line">amd5= hashlib.md5(<span class="string">"盐"</span>)<span class="comment">#创建对象时加盐</span></span><br><span class="line">hashlib.sha224()<span class="comment">#获取加密对象</span></span><br><span class="line">md5.update(<span class="string">'abc中文'</span>.encode(<span class="string">'utf-8'</span>))<span class="comment">#加密不返回</span></span><br><span class="line">res=md5.hexdigest()<span class="comment">#返回加密结果</span></span><br><span class="line">res=md5.digest()<span class="comment">#二进制加密结果</span></span><br></pre></td></tr></table></figure>

<p>update多次调用，就是在之前的基础上，再加密，结果是不同的。</p>
<p>如<code>update(&quot;111&quot;.encode(&#39;utf-8&#39;))</code>再<code>update(&quot;222&quot;.encode(&#39;utf-8&#39;))</code>和<code>update(&quot;111222&quot;.encode(&#39;utf-8&#39;))</code>是一样的</p>
<h3 id="collections"><a href="#collections" class="headerlink" title="collections"></a>collections</h3><ul>
<li><p>namedtuple: 生成可以使用名字来访问元素内容的tuple</p>
</li>
<li><p>deque: 双端队列，可以快速的从另外一侧追加和推出对象</p>
</li>
<li><p>Counter: 计数器，主要用来计数</p>
</li>
<li><p>OrderedDict: 有序字典</p>
</li>
<li><p>defaultdict: 带有默认值的字典</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line">tp = collections.namedtuple(<span class="string">'这里是描述信息'</span>, [<span class="string">'元组的参数1'</span>, <span class="string">'参数2'</span>, <span class="string">'参数3'</span>])</span><br><span class="line">t = tp(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)  <span class="comment"># 设置值</span></span><br><span class="line">print(t.元组的参数<span class="number">1</span>)  <span class="comment"># 通过参数名引用</span></span><br><span class="line">print(t[<span class="number">1</span>])  <span class="comment"># 通过索引引用</span></span><br><span class="line">d = collections.defaultdict(int, name=<span class="string">'Andy'</span>, age=<span class="number">10</span>)  <span class="comment"># 第一个参数，确认返回值</span></span><br><span class="line">print(d[<span class="string">'asdas'</span>])  <span class="comment"># 取不到返回第一个参数构造的值，并且添加进去</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line">collections.defaultdict(a)  <span class="comment"># 用自己的方法传入</span></span><br><span class="line"><span class="comment"># 传入可hash的，返回计数</span></span><br><span class="line">c = collections.Counter(<span class="string">'asdassadsadasdasdsa'</span>)</span><br><span class="line">print(c)  <span class="comment"># Counter(&#123;'a': 7, 's': 7, 'd': 5&#125;)</span></span><br><span class="line">c.most_common(<span class="number">2</span>)  <span class="comment"># 以列表的方式返回(值，数)的元组</span></span><br></pre></td></tr></table></figure>

<h3 id="shutil"><a href="#shutil" class="headerlink" title="shutil"></a>shutil</h3><ul>
<li><code>shutil.copyfileobj(fsrc, fdst[, length])</code>：将文件内容拷贝到另一个文件中</li>
<li><code>shutil.copyfile(src, dst)</code>：拷贝文件</li>
<li><code>shutil.copymode(src, dst)</code>：仅拷贝权限。内容、组、用户均不变</li>
<li><code>shutil.copystat(src, dst)</code>：仅拷贝状态的信息，包括：mode bits, atime, mtime, flags</li>
<li><code>shutil.copy(src, dst)</code>：拷贝文件和权限</li>
<li><code>shutil.copy2(src, dst)</code>：拷贝文件和状态信息</li>
<li><code>shutil.ignore_patterns(*patterns)</code>：忽略什么文件，往往作为参数传入</li>
<li><code>shutil.copytree(src, dst, symlinks=False, ignore=None)</code>：递归的去拷贝文件夹</li>
<li><code>shutil.rmtree(path[, ignore_errors[, onerror]])</code>：递归的去删除文件</li>
<li><code>shutil.move(src, dst)</code>：递归的去移动文件，它类似mv命令。</li>
<li><code>shutil.make_archive(base_name, format,...)</code>：创建压缩包并返回文件路径<ul>
<li>base_name： 压缩包的文件名，也可以是压缩包的路径。只是文件名时，则保存至当前目录，否则保存至指定路径</li>
<li>format： 压缩包种类，“zip”, “tar”, “bztar”，“gztar”</li>
<li>root_dir： 要压缩的文件夹路径（默认当前目录）</li>
<li>owner： 用户，默认当前用户</li>
<li>group： 组，默认当前组</li>
<li>logger： 用于记录日志，通常是logging.Logger对象</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">shutil.copy2(<span class="string">'D:\python_learn\lianjia.html'</span>,</span><br><span class="line">             <span class="string">'D:\python_learn\lianjia_bk.html'</span>)<span class="comment">#拷贝</span></span><br><span class="line"></span><br><span class="line">shutil.copytree(<span class="string">"outer"</span>,</span><br><span class="line">                <span class="string">"outer3"</span>,</span><br><span class="line">                ignore=shutil.ignore_patterns(<span class="string">"__init__.py"</span>,<span class="string">"sag"</span>))<span class="comment">#忽略文件，可以放规则</span></span><br><span class="line"></span><br><span class="line">shutil.rmtree(<span class="string">"folder1"</span>,ignore_errors=<span class="literal">True</span>)<span class="comment">#忽略错误</span></span><br><span class="line">shutil.move(<span class="string">'folder1'</span>, <span class="string">'folder2'</span>)</span><br><span class="line">shutil.move(<span class="string">"folder1"</span>,<span class="string">"folder2"</span>, copy_function=shutil.copy2)<span class="comment">#移动文件，</span></span><br><span class="line"></span><br><span class="line">total, used, free = shutil.disk_usage(<span class="string">"."</span>)<span class="comment">#查看磁盘使用空间，也可以传c:\\</span></span><br><span class="line">print(<span class="string">"当前磁盘共: %iGB, 已使用: %iGB, 剩余: %iGB"</span>%(total / <span class="number">1073741824</span>, used / <span class="number">1073741824</span>, free / <span class="number">1073741824</span>))</span><br><span class="line"></span><br><span class="line">shutil.make_archive(<span class="string">'压缩文件夹的名字'</span>, <span class="string">'zip'</span>,<span class="string">'待压缩的文件夹l路径'</span>)</span><br><span class="line"></span><br><span class="line">shutil.unpack_archive(<span class="string">'要解压的文件'</span>,<span class="string">r'解压到的路径'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="comment"># 输出内容是有等级的 : 默认处理warning级别以上的所有信息</span></span><br><span class="line">logging.debug(<span class="string">'debug message'</span>)          <span class="comment"># 调试</span></span><br><span class="line">logging.info(<span class="string">'info message'</span>)            <span class="comment"># 信息</span></span><br><span class="line">logging.warning(<span class="string">'warning message'</span>)      <span class="comment"># 警告</span></span><br><span class="line">logging.error(<span class="string">'error message'</span>)          <span class="comment"># 错误</span></span><br><span class="line">logging.critical(<span class="string">'critical message'</span>)    <span class="comment"># 批判性的</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.无论你希望日志里打印哪些内容,都得你自己写,没有自动生成日志这种事儿</span></span><br><span class="line">logging.basicconfig</span><br><span class="line"><span class="comment"># 输出到屏幕</span></span><br><span class="line">logging.basicConfig(</span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s[line :%(lineno)d]-%(module)s:  %(message)s'</span>,</span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,</span><br><span class="line">)</span><br><span class="line">logging.warning(<span class="string">'warning message test2'</span>)</span><br><span class="line">logging.error(<span class="string">'error message test2'</span>)</span><br><span class="line">logging.critical(<span class="string">'critical message test2'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出到文件,并且设置信息的等级</span></span><br><span class="line">logging.basicConfig(</span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s[line :%(lineno)d]-%(module)s:  %(message)s'</span>,</span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,</span><br><span class="line">    filename=<span class="string">'tmp.log'</span>,</span><br><span class="line">    level=logging.DEBUG  <span class="comment"># 默认追加可以用filemode改成覆盖</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时向文件和屏幕上输出 和 乱码</span></span><br><span class="line">fh = logging.FileHandler(<span class="string">'tmp.log'</span>, encoding=<span class="string">'utf-8'</span>)  <span class="comment"># 输出到文件</span></span><br><span class="line">sh = logging.StreamHandler()  <span class="comment"># 输出到屏幕</span></span><br><span class="line">logging.basicConfig(</span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s[line :%(lineno)d]-%(module)s:  %(message)s'</span>,</span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,</span><br><span class="line">    level=logging.DEBUG,</span><br><span class="line">    handlers=[fh, sh]  <span class="comment"># 这里可以配置多个，可以输出到多个文件</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># logging.debug('debug 信息错误 test2')</span></span><br><span class="line"><span class="comment"># logging.info('warning 信息错误 test2')</span></span><br><span class="line"><span class="comment"># logging.warning('warning message test2')</span></span><br><span class="line"><span class="comment"># logging.error('error message test2')</span></span><br><span class="line"><span class="comment"># logging.critical('critical message test2')</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 做日志的切分</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> logging <span class="keyword">import</span> handlers</span><br><span class="line"></span><br><span class="line">sh = logging.StreamHandler()</span><br><span class="line">rh = handlers.RotatingFileHandler(<span class="string">'myapp.log'</span>, maxBytes=<span class="number">1024</span>*<span class="number">1024</span>, backupCount=<span class="number">5</span>)  <span class="comment"># 按照大小做切割1024kb，只保留5个文件，如果切到第六个，就删除第一个文件</span></span><br><span class="line">fh = handlers.TimedRotatingFileHandler(filename=<span class="string">'x2.log'</span>, when=<span class="string">'s'</span>, interval=<span class="number">5</span>, encoding=<span class="string">'utf-8'</span>)<span class="comment">#按时间切割when表示按秒切，h为按小时。</span></span><br><span class="line">logging.basicConfig(</span><br><span class="line">    format=<span class="string">'%(asctime)s - %(name)s - %(levelname)s[line :%(lineno)d]-%(module)s:  %(message)s'</span>,</span><br><span class="line">    datefmt=<span class="string">'%Y-%m-%d %H:%M:%S %p'</span>,</span><br><span class="line">    level=logging.DEBUG,</span><br><span class="line">    handlers=[fh, rh, sh]</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>logging.basicConfig()函数中可通过具体参数来更改logging模块默认行为，可用参数有：</p>
<ul>
<li>filename：用指定的文件名创建FiledHandler，这样日志会被存储在指定的文件中。</li>
<li>filemode：文件打开方式，在指定了filename时使用这个参数，默认值为“a”还可指定为“w”。</li>
<li>format：指定handler使用的日志显示格式。</li>
<li>datefmt：指定日期时间格式。</li>
<li>level：设置rootlogger（后边会讲解具体概念）的日志级别</li>
<li>stream：用指定的stream创建StreamHandler。可以指定输出到sys.stderr,sys.stdout或者文件</li>
<li>(f=open(‘test.log’,’w’))，默认为sys.stderr。若同时列出了filename和stream两个参数，则stream参数会被忽略。</li>
</ul>
<p>format参数中可能用到的格式化串：</p>
<ul>
<li>%(name)s Logger的名字</li>
<li>%(levelno)s 数字形式的日志级别</li>
<li>%(levelname)s 文本形式的日志级别</li>
<li>%(pathname)s 调用日志输出函数的模块的完整路径名，可能没有</li>
<li>%(filename)s 调用日志输出函数的模块的文件名</li>
<li>%(module)s 调用日志输出函数的模块名</li>
<li>%(funcName)s 调用日志输出函数的函数名</li>
<li>%(lineno)d 调用日志输出函数的语句所在的代码行</li>
<li>%(created)f 当前时间，用UNIX标准的表示时间的浮 点数表示</li>
<li>%(relativeCreated)d 输出日志信息时的，自Logger创建以 来的毫秒数</li>
<li>%(asctime)s 字符串形式的当前时间。默认格式是 “2003-07-08 16:49:45,896”。逗号后面的是毫秒</li>
<li>%(thread)d 线程ID。可能没有</li>
<li>%(threadName)s 线程名。可能没有</li>
<li>%(process)d 进程ID。可能没有</li>
<li>%(message)s用户输出的消息</li>
</ul>
<p>logger对象配置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line">logger = logging.getLogger()</span><br><span class="line"><span class="comment"># 创建一个handler，用于写入日志文件</span></span><br><span class="line">fh = logging.FileHandler(<span class="string">'test.log'</span>,encoding=<span class="string">'utf-8'</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment"># 再创建一个handler，用于输出到控制台 </span></span><br><span class="line">ch = logging.StreamHandler() </span><br><span class="line">formatter = logging.Formatter(<span class="string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span>)</span><br><span class="line">fh.setLevel(logging.DEBUG)</span><br><span class="line"></span><br><span class="line">fh.setFormatter(formatter) </span><br><span class="line">ch.setFormatter(formatter) </span><br><span class="line">logger.addHandler(fh) <span class="comment">#logger对象可以添加多个fh和ch对象 </span></span><br><span class="line">logger.addHandler(ch) </span><br><span class="line"></span><br><span class="line">logger.debug(<span class="string">'logger debug message'</span>) </span><br><span class="line">logger.info(<span class="string">'logger info message'</span>) </span><br><span class="line">logger.warning(<span class="string">'logger warning message'</span>) </span><br><span class="line">logger.error(<span class="string">'logger error message'</span>) </span><br><span class="line">logger.critical(<span class="string">'logger critical message'</span>)</span><br></pre></td></tr></table></figure>

<p>logger配置文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">logging配置</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> logging.config</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义三种日志输出格式 开始</span></span><br><span class="line"></span><br><span class="line">standard_format = <span class="string">'[%(asctime)s][%(threadName)s:%(thread)d][task_id:%(name)s][%(filename)s:%(lineno)d]'</span> \</span><br><span class="line">                  <span class="string">'[%(levelname)s][%(message)s]'</span> <span class="comment">#其中name为getlogger指定的名字</span></span><br><span class="line"></span><br><span class="line">simple_format = <span class="string">'[%(levelname)s][%(asctime)s][%(filename)s:%(lineno)d]%(message)s'</span></span><br><span class="line"></span><br><span class="line">id_simple_format = <span class="string">'[%(levelname)s][%(asctime)s] %(message)s'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义日志输出格式 结束</span></span><br><span class="line"></span><br><span class="line">logfile_dir = os.path.dirname(os.path.abspath(__file__))  <span class="comment"># log文件的目录</span></span><br><span class="line"></span><br><span class="line">logfile_name = <span class="string">'all2.log'</span>  <span class="comment"># log文件名</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果不存在定义的日志目录就创建一个</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(logfile_dir):</span><br><span class="line">    os.mkdir(logfile_dir)</span><br><span class="line"></span><br><span class="line"><span class="comment"># log文件的全路径</span></span><br><span class="line">logfile_path = os.path.join(logfile_dir, logfile_name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># log配置字典</span></span><br><span class="line">LOGGING_DIC = &#123;</span><br><span class="line">    <span class="string">'version'</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">'disable_existing_loggers'</span>: <span class="literal">False</span>,</span><br><span class="line">    <span class="string">'formatters'</span>: &#123;</span><br><span class="line">        <span class="string">'standard'</span>: &#123;</span><br><span class="line">            <span class="string">'format'</span>: standard_format</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">'simple'</span>: &#123;</span><br><span class="line">            <span class="string">'format'</span>: simple_format</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'filters'</span>: &#123;&#125;,</span><br><span class="line">    <span class="string">'handlers'</span>: &#123;</span><br><span class="line">        <span class="comment">#打印到终端的日志</span></span><br><span class="line">        <span class="string">'console'</span>: &#123;</span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'DEBUG'</span>,</span><br><span class="line">            <span class="string">'class'</span>: <span class="string">'logging.StreamHandler'</span>,  <span class="comment"># 打印到屏幕</span></span><br><span class="line">            <span class="string">'formatter'</span>: <span class="string">'simple'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">#打印到文件的日志,收集info及以上的日志</span></span><br><span class="line">        <span class="string">'default'</span>: &#123;</span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'DEBUG'</span>,</span><br><span class="line">            <span class="string">'class'</span>: <span class="string">'logging.handlers.RotatingFileHandler'</span>,  <span class="comment"># 保存到文件</span></span><br><span class="line">            <span class="string">'formatter'</span>: <span class="string">'standard'</span>,</span><br><span class="line">            <span class="string">'filename'</span>: logfile_path,  <span class="comment"># 日志文件</span></span><br><span class="line">            <span class="string">'maxBytes'</span>: <span class="number">1024</span>*<span class="number">1024</span>*<span class="number">5</span>,  <span class="comment"># 日志大小 5M</span></span><br><span class="line">            <span class="string">'backupCount'</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">'encoding'</span>: <span class="string">'utf-8'</span>,  <span class="comment"># 日志文件的编码，再也不用担心中文log乱码了</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'loggers'</span>: &#123;</span><br><span class="line">        <span class="comment">#logging.getLogger(__name__)拿到的logger配置</span></span><br><span class="line">        <span class="string">''</span>: &#123;</span><br><span class="line">            <span class="string">'handlers'</span>: [<span class="string">'default'</span>, <span class="string">'console'</span>],  <span class="comment"># 这里把上面定义的两个handler都加上，即log数据既写入文件又打印到屏幕</span></span><br><span class="line">            <span class="string">'level'</span>: <span class="string">'DEBUG'</span>,</span><br><span class="line">            <span class="string">'propagate'</span>: <span class="literal">True</span>,  <span class="comment"># 向上（更高level的logger）传递</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_my_logging_cfg</span><span class="params">()</span>:</span></span><br><span class="line">    logging.config.dictConfig(LOGGING_DIC)  <span class="comment"># 导入上面定义的logging配置</span></span><br><span class="line">    logger = logging.getLogger(__name__)  <span class="comment"># 生成一个log实例</span></span><br><span class="line">    logger.info(<span class="string">'It works!'</span>)  <span class="comment"># 记录该文件的运行状态</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    load_my_logging_cfg()</span><br></pre></td></tr></table></figure>



<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- bin</span><br><span class="line"> - start.py</span><br><span class="line">- conf</span><br><span class="line">- core</span><br><span class="line">- db</span><br><span class="line">- lib</span><br><span class="line">- log</span><br></pre></td></tr></table></figure>

<h2 id="re模块、正则表达式"><a href="#re模块、正则表达式" class="headerlink" title="re模块、正则表达式"></a>re模块、正则表达式</h2><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><p><a href="http://tool.chinaz.com/regex" target="_blank" rel="noopener">正则测试网站</a></p>
<table>
<thead>
<tr>
<th>元字符</th>
<th>匹配内容</th>
</tr>
</thead>
<tbody><tr>
<td>\w</td>
<td>匹配一位字母（包含中文）或数字或下划线</td>
</tr>
<tr>
<td>\W</td>
<td>匹配一位非字母（包含中文）或数字或下划线</td>
</tr>
<tr>
<td>\s</td>
<td>匹配任意的空白符（\t，空格等）</td>
</tr>
<tr>
<td>\S</td>
<td>匹配任意非空白符</td>
</tr>
<tr>
<td>\d</td>
<td>匹配一位数字</td>
</tr>
<tr>
<td>\D</td>
<td>p匹配非数字</td>
</tr>
<tr>
<td>\A</td>
<td>从字符串开头匹配</td>
</tr>
<tr>
<td>\z</td>
<td>匹配字符串的结束，如果是换行，只匹配到换行前的结果</td>
</tr>
<tr>
<td>\n</td>
<td>匹配一个换行符</td>
</tr>
<tr>
<td>\t</td>
<td>匹配一个制表符</td>
</tr>
<tr>
<td>^</td>
<td>匹配字符串的开始</td>
</tr>
<tr>
<td>$</td>
<td>匹配字符串的结尾</td>
</tr>
<tr>
<td>.</td>
<td>匹配任意字符，除了换行符，当re.DOTALL标记被指定时，则可以匹配包括换行符的任意字符。</td>
</tr>
<tr>
<td>[…]</td>
<td>匹配字符组中的字符</td>
</tr>
<tr>
<td>[^…]</td>
<td>匹配除了字符组中的字符的所有字符</td>
</tr>
<tr>
<td>*</td>
<td>匹配0个或者多个左边的字符。</td>
</tr>
<tr>
<td>+</td>
<td>匹配一个或者多个左边的字符。</td>
</tr>
<tr>
<td>？</td>
<td>匹配0个或者1个左边的字符，{}后非贪婪方式。</td>
</tr>
<tr>
<td>{n}</td>
<td>精准匹配n个前面的表达式。</td>
</tr>
<tr>
<td>{n,m}</td>
<td>匹配n到m次由前面的正则表达式定义的片段，贪婪方式</td>
</tr>
<tr>
<td>a|b</td>
<td>匹配a或者b。</td>
</tr>
<tr>
<td>()</td>
<td>匹配括号内的表达式，也表示一个组</td>
</tr>
<tr>
<td>\b</td>
<td>单词结尾</td>
</tr>
<tr>
<td>\</td>
<td>转义</td>
</tr>
</tbody></table>
<ul>
<li><code>[xxx]</code>：一个[]表示只匹配一个，内部写要匹配的字符。根据ascii进行范围比对。如果要匹配<code>abc</code>中的任意一个，就是<code>[abc]</code>或者<ul>
<li><code>[0-9]</code>表示匹配0到9任一字符</li>
<li>[a-zA-Z]：所有大小写</li>
</ul>
</li>
<li><code>^ab&amp;</code>：表示匹配<code>ab</code>其他都不匹配</li>
<li><code>ing\b</code>：以ing结尾的单词</li>
<li><code>W{}</code>：用来约束左边的符号。</li>
<li><code>\d{2,}</code>：匹配数字至少2个</li>
<li>贪婪匹配：在量词允许的情况下，按最多的匹配内容<ul>
<li><code>\d{3,}4</code>：如果一个字符串出现多个4，一直会匹配到最后一个4</li>
<li><code>\d{3,}?4</code>：在量词后加<code>?</code>表示非贪婪模式。匹配到第一个4</li>
</ul>
</li>
<li><code>\</code>：转义如<code>\\</code>表示<code>\</code></li>
<li>在<code>[]</code>里，<code>.</code>、<code>()</code>等没有特殊意义，就表示该符号，但是<code>-</code>需要转义要用<code>\-</code></li>
<li><code>?</code>问号常用到非贪婪匹配</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">res = re.findall(<span class="string">'9(\d)(\d)'</span>, <span class="string">'19740asdsa596115rrs'</span>)  <span class="comment"># 找到所有</span></span><br><span class="line">print(res)  <span class="comment"># [('7', '4'), ('6', '1')]</span></span><br><span class="line">res = re.search(<span class="string">'9(\d)(\d)'</span>, <span class="string">'19740asdsa56115rrs'</span>)  <span class="comment"># 找到第一个对象就返回</span></span><br><span class="line"><span class="keyword">if</span> res:</span><br><span class="line">    print(res)  <span class="comment"># &lt;re.Match object; span=(1, 4), match='974'&gt;</span></span><br><span class="line">    print(res.group(<span class="number">0</span>))  <span class="comment"># 974</span></span><br><span class="line">    print(res.group(<span class="number">1</span>))  <span class="comment"># 7</span></span><br><span class="line">    print(res.group(<span class="number">2</span>))  <span class="comment"># 4</span></span><br></pre></td></tr></table></figure>



<h3 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h3><ul>
<li>findall：按照完整的正则进行匹配，但只显示括号里匹配到的内容。没有括号显示所有<ul>
<li>如果多个括号列表返回，元素为匹配到的括号元组</li>
</ul>
</li>
<li>search：按照完整的正则进行匹配。反对一个对象<ul>
<li>group()：返回第一个匹配到完整显示</li>
<li>group(1)：返回匹配到的第一个括号，2、3…按照顺序</li>
</ul>
</li>
</ul>
<blockquote>
<p><code>?:</code>是可以不显示</p>
<p><code>?P&lt;name&gt;</code>：取名</p>
<p><code>(?P=name)</code>：引用取名的，如果不相同就匹配不上</p>
<p><code>\1</code>：表示引用第一组的内容，但是\1有特殊含义，所有往往在字符串前加r。用的少</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># (?P&lt;名字&gt;正则表达式)</span></span><br><span class="line"><span class="comment"># ret.group('名字')</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 分组命名的引用</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">exp= <span class="string">'&lt;abc&gt;akd7008&amp;(&amp;*)hgdwuih&lt;/abb&gt;008&amp;(&amp;*)hgdwuih&lt;/abd&gt;'</span></span><br><span class="line">ret= re.search(<span class="string">'&lt;(?P&lt;tag&gt;\w+)&gt;.*?&lt;/(?P=tag)&gt;'</span>,exp)</span><br><span class="line">print(ret)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">exp= <span class="string">'&lt;abc&gt;akd7008&amp;(&amp;*)hgdwuih&lt;/abc&gt;008&amp;(&amp;*)hgdwuih&lt;/abd&gt;'</span></span><br><span class="line">ret= re.search(<span class="string">r'&lt;(\w+)&gt;.*?&lt;/\1&gt;'</span>,exp)</span><br><span class="line">ret= re.search(<span class="string">'&lt;(\w+)&gt;.*?&lt;/\\1&gt;'</span>,exp)</span><br><span class="line">print(ret)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">ret=re.findall(<span class="string">r"\d+\.\d+|(\d+)"</span>,<span class="string">"1-2*(60+(-40.35/5)-(-4*3))"</span>)</span><br><span class="line">print(ret)</span><br><span class="line">ret = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'60'</span>, <span class="string">''</span>, <span class="string">'5'</span>, <span class="string">'4'</span>, <span class="string">'3'</span>,<span class="string">''</span>,<span class="string">''</span>]</span><br><span class="line">ret.remove(<span class="string">''</span>)</span><br><span class="line">print(ret)</span><br><span class="line">ret = filter(<span class="keyword">lambda</span> n:n,ret)</span><br><span class="line">print(list(ret))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分组命名(?P&lt;组名&gt;正则) (?P=组名)</span></span><br><span class="line"><span class="comment"># 有的时候我们要匹配的内容是包含在不想要的内容之中的,</span></span><br><span class="line"><span class="comment"># 只能先把不想要的内容匹配出来,然后再想办法从结果中去掉</span></span><br></pre></td></tr></table></figure>

<p>re不常用方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">re.split(<span class="string">'[|]'</span>,<span class="string">'sa|dsadd'</span>)<span class="comment">#根据正则表达式切割保留，带括号会保留</span></span><br><span class="line">re.sub(<span class="string">'\d+'</span>,<span class="string">'数字'</span>,<span class="string">'sads45dfs566dd3556sadsa'</span>,<span class="number">2</span>)<span class="comment">#根据正则替换2次。sads数字dfs数字dd3556sadsa</span></span><br><span class="line">re.subn(<span class="string">'\d+'</span>,<span class="string">'数字'</span>,<span class="string">'sads45dfs566dd3556sadsa'</span>)<span class="comment">#返回替换后的和次数元组('sads数字dfs数字dd数字sadsa', 3)</span></span><br><span class="line">re.match(<span class="string">'\d+'</span>,<span class="string">'123sdasa'</span>)<span class="comment">#相当于在正则之前加了^。&lt;re.Match object; span=(0, 3), match='123'&gt;</span></span><br></pre></td></tr></table></figure>

<p>re编译和迭代</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">ret = re.compile(<span class="string">'\d+'</span>)  <span class="comment"># 编译正则表达式</span></span><br><span class="line">ret.search(<span class="string">"传入字符串\'sadsa56165\'"</span>)</span><br><span class="line"><span class="comment"># 节省时间</span></span><br><span class="line">ret = re.finditer(<span class="string">'\d+'</span>, <span class="string">"sad516das11d56as4dsa561das531fa6w465s3a21d321as5f1ds531gs56ad1ads65f4a684fa9d"</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ret:</span><br><span class="line">    print(i.group())</span><br><span class="line"><span class="comment"># 两个可以结合使用</span></span><br></pre></td></tr></table></figure>

<h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><p>python最大递归深度1000层</p>
<p>修改最大递归深度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.setrecursionlimit(<span class="number">100000</span>)</span><br></pre></td></tr></table></figure>

<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><h3 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h3><p>对象初始化调用<code>__init__</code>方法，通过<code>self.属性名</code>添加属性。</p>
<p>属性的增删改查</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    print(<span class="number">11</span>)  <span class="comment"># 类内部会依次执行，方法不会执行</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, sex, job)</span>:</span>  <span class="comment"># 必须这么叫，不能改变，属性都写在这</span></span><br><span class="line">        print(<span class="string">'init我被调用了'</span>)</span><br><span class="line">        self.name = name</span><br><span class="line">        self.sex = sex</span><br><span class="line">        self.job = job</span><br><span class="line"></span><br><span class="line">it = Person(<span class="string">"蔡徐坤"</span>, <span class="string">"女性"</span>, <span class="string">"艺人"</span>)  <span class="comment"># 类名()会调用__init__方法。会将self返回</span></span><br><span class="line">print(it.name)</span><br><span class="line">print(it.__dict__[<span class="string">'sex'</span>])</span><br><span class="line">it.sss=<span class="number">1</span><span class="comment">#可以增加属性</span></span><br><span class="line">print(it.__dict__)</span><br><span class="line"><span class="keyword">del</span> it.sss</span><br><span class="line">print(it.__dict__)</span><br></pre></td></tr></table></figure>

<p><strong>实例化所经历的步骤</strong></p>
<ol>
<li>类名() 之后的第一个事儿 :开辟一块儿内存空间</li>
<li>调用<code>__init__</code>把空间的内存地址作为self参数传递到函数内部</li>
<li>所有的这一个对象需要使用的属性都需要和self关联起来</li>
<li>执行完init中的逻辑之后,self变量会自动的被返回到调用处(发生实例化的地方)</li>
</ol>
<p>对象会存储类指针，指向类</p>
<p>类中的变量是静态变量对象中的变量只属于对象本身,每个对象有属于自己的空间来存储对象的变量当使用对象名去调用某一个属性的时候会优先在自己的空间中寻找,找不到再去对应的类中寻找如果自己没有就引用类的,如果类也没有就报错对于类来说,类中的变量所有的对象都是可以读取的,并且读取的是同一份变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, sex, job)</span>:</span></span><br><span class="line">        print(<span class="string">'init我被调用了'</span>)</span><br><span class="line">        self.name = name</span><br><span class="line">        self.sex = sex</span><br><span class="line">        self.job = job</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">xd</span><span class="params">(self, action)</span>:</span>  <span class="comment"># 这个self就是实例化的对象</span></span><br><span class="line">        print(self.name + <span class="string">"在"</span> + str(action))</span><br><span class="line">it = Person(<span class="string">"蔡徐坤"</span>, <span class="string">"女性"</span>, <span class="string">"艺人"</span>)</span><br><span class="line">it.xd(<span class="string">"舔狗"</span>)  <span class="comment"># 会自动传入self</span></span><br><span class="line">Person.xd(it, <span class="string">"舔狗"</span>)  <span class="comment"># 这样也是可以调用的</span></span><br></pre></td></tr></table></figure>

<p>组合：就是对象作为另一个对象的属性</p>
<p>直接写在类下的是静态变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    Country = <span class="string">'中国'</span>     <span class="comment"># 静态变量/静态属性 存储在类的命名空间里的</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,age,country)</span>:</span>  <span class="comment"># 绑定方法 存储在类的命名空间里的</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.country = country</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">(self)</span>:</span><span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func3</span><span class="params">(self)</span>:</span><span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func4</span><span class="params">(self)</span>:</span><span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func5</span><span class="params">(self)</span>:</span><span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">a = A(<span class="string">'alex'</span>,<span class="number">83</span>,<span class="string">'印度'</span>)</span><br><span class="line">b = A(<span class="string">'wusir'</span>,<span class="number">74</span>,<span class="string">'泰国人'</span>)</span><br><span class="line">a.Country = <span class="string">'日本人'</span><span class="comment">#对象调用静态变量无法修改，这里是增加属性</span></span><br><span class="line">print(a.Country)<span class="comment">#日本人</span></span><br><span class="line">print(b.Country)<span class="comment">#中国</span></span><br><span class="line">print(A.Country)<span class="comment">#中国</span></span><br></pre></td></tr></table></figure>

<p>单继承</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'in D'</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(D)</span>:</span><span class="keyword">pass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">(C)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'in A'</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(A)</span>:</span><span class="keyword">pass</span></span><br><span class="line">B().func()</span><br></pre></td></tr></table></figure>

<p>多继承</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#多继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span>print(<span class="string">'in B'</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span>print(<span class="string">'in A'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(B,A)</span>:</span><span class="keyword">pass</span></span><br><span class="line">C().func()</span><br></pre></td></tr></table></figure>

<p>调用父类的方法时要用,<code>父类名.方法名(self,其他参数)</code>。</p>
<p>一个类有多个父类,在调用父类方法的时候,按照继承顺序,先继承的就先寻找</p>
<p>方法和函数的区别</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> types <span class="keyword">import</span> FunctionType,MethodType</span><br><span class="line"><span class="comment"># FunctionType : 函数</span></span><br><span class="line"><span class="comment"># MethodType : 方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'in func'</span>)</span><br><span class="line"></span><br><span class="line">print(A.func)  <span class="comment"># 函数</span></span><br><span class="line">a = A()</span><br><span class="line">print(a.func)  <span class="comment"># 方法</span></span><br><span class="line">print(isinstance(a.func,FunctionType))</span><br><span class="line">print(isinstance(a.func,MethodType))</span><br><span class="line">print(isinstance(A.func,FunctionType))</span><br><span class="line">print(isinstance(A.func,MethodType))</span><br></pre></td></tr></table></figure>

<p>特殊的类属性</p>
<ul>
<li><code>类名.__name__</code>：类的名字</li>
<li><code>类名.__doc__</code>：类的文档字符串</li>
<li><code>类名.__base__</code>：类的第一个父类</li>
<li><code>类名.__bases__</code>：类的所有父类（元组）</li>
<li><code>类名.__dict__</code>：类的字典属性</li>
<li><code>类名.__module__</code>：类定义所在的模块</li>
<li><code>类名.__class__</code>：实例对于的类</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    role = <span class="string">'法师'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func1</span><span class="params">(self)</span>:</span><span class="keyword">pass</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">func2</span><span class="params">(self)</span>:</span><span class="keyword">pass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>:</span><span class="keyword">pass</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(B,A)</span>:</span><span class="keyword">pass</span></span><br><span class="line">print(A.__base__)<span class="comment">#&lt;class 'object'&gt;</span></span><br><span class="line">print(C.__base__)<span class="comment">#&lt;class '__main__.B'&gt;</span></span><br><span class="line">print(C.__bases__)<span class="comment">#(&lt;class '__main__.B'&gt;, &lt;class '__main__.A'&gt;)</span></span><br><span class="line">print(A.__dict__)</span><br><span class="line">print(A.__name__)<span class="comment">#A</span></span><br><span class="line">print(A.__class__)<span class="comment">#&lt;class 'type'&gt;大部分类的类型都是type</span></span><br><span class="line">print(B.__class__)<span class="comment">#&lt;class 'type'&gt;</span></span><br><span class="line">print(C.__class__)<span class="comment">#&lt;class 'type'&gt;</span></span><br><span class="line">print(C.__module__)<span class="comment">#__main__</span></span><br></pre></td></tr></table></figure>

<p>object类 类祖宗所有在python3当中的类都是继承object类的，object中有init所有的类都默认的继承object。</p>
<p>用pickle将对象存储与读取</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Course</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,period,price)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.period = period</span><br><span class="line">        self.price = price</span><br><span class="line"></span><br><span class="line">python = Course(<span class="string">'python'</span>,<span class="string">'6 moneth'</span>,<span class="number">21800</span>)</span><br><span class="line">linux = Course(<span class="string">'linux'</span>,<span class="string">'5 moneth'</span>,<span class="number">19800</span>)</span><br><span class="line">go = Course(<span class="string">'go'</span>,<span class="string">'4 moneth'</span>,<span class="number">12800</span>)</span><br><span class="line"><span class="keyword">import</span>  pickle</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'pickle_file'</span>,<span class="string">'ab'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    pickle.dump(linux,f)</span><br><span class="line">    pickle.dump(go,f)</span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'pickle_file'</span>,<span class="string">'rb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            obj = pickle.load(f)</span><br><span class="line">            print(obj.name,obj.period)</span><br><span class="line">        <span class="keyword">except</span> EOFError:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>对象必须在python已定义，不然会报错</p>
</blockquote>
<h3 id="进阶语法"><a href="#进阶语法" class="headerlink" title="进阶语法"></a>进阶语法</h3><ul>
<li><p>新式类：继承Object对象的</p>
</li>
<li><p>经典类：不继承Object对象的</p>
</li>
</ul>
<blockquote>
<p>python3默认继承Object，python3没有经典类</p>
</blockquote>
<p>多继承时</p>
<ul>
<li>新式类：C3算法</li>
<li>经典类：深度搜索，一条道走到黑，再回头</li>
</ul>
<p>C3算法<br>如果是单继承 那么总是按照从子类-&gt;父类的顺序来计算查找顺序<br>如果是多继承 需要按照自己本类,父类1的继承顺序,父类2的继承顺序,…<br><strong>merge的规则</strong> :如果一个类出现在从左到右所有顺序的最左侧,并且没有在其他位置出现,那么先提出来作为继承顺序中的一个<br>或 一个类出现在从左到右顺序的最左侧,并没有在其他顺序中出现,那么先提出来作为继承顺序中的一个<br>如果从左到右第一个顺序中的第一个类出现在后面且不是第一个,那么不能提取,顺序向后继续找其他顺序中符合上述条件的类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">A为B、C的父类</span><br><span class="line">B为D的父类</span><br><span class="line">C为B的父类</span><br><span class="line">D、E为F的父类</span><br><span class="line">F(D,E) &#x3D; merge(D(B) + E(C))</span><br><span class="line">         &#x3D; [F] + [DBAO] + [ECAO]</span><br><span class="line">       F &#x3D; [DBAO] + [ECAO]</span><br><span class="line">    FD   &#x3D; [BAO] + [ECAO]</span><br><span class="line">    FDB  &#x3D; [AO] + [ECAO]</span><br><span class="line">    FDBE &#x3D; [AO] + [CAO]</span><br><span class="line">    FDBEC&#x3D; [AO] + [AO]</span><br><span class="line">    FDBECA&#x3D; [O] + [O]</span><br><span class="line">    FDBECAO</span><br></pre></td></tr></table></figure>

<p>步骤解读</p>
<ol>
<li>本身永远在最前面</li>
<li>然后看找第一个是D，然后往后找，发现没有重复的D，就提出D</li>
<li>然后左边第一个是B，再往后找，没有重复的B，提出B</li>
<li>然后左边第一个是A，有重复。再找，就是E，往后E无重复。提出E</li>
<li>然后左边第一个是A，有重复，再找，就是C，往后C无重复，提出C</li>
<li>左边第一个是A，并且后面所有列的第一个都是A，那么提出A</li>
<li>左边第一个是O，并且后面所有列的第一个都是O，那么提出O</li>
</ol>
<blockquote>
<p>只要知道经典类和新式类继承方式不同，如果一个类的继承顺序看不懂，可以用<code>类名.mro()</code>。查看继承顺序</p>
</blockquote>
<p><strong>抽象类</strong></p>
<p>类似Java的接口类，用来规定开发规范</p>
<ul>
<li>通过未实现抛异常的方式，若子类继承，未实现的话，调用方法会抛异常</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Payment</span>:</span>     <span class="comment"># 抽象类</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pay</span><span class="params">(self,money)</span>:</span></span><br><span class="line">        <span class="string">'''只要你见到了项目中有这种类,你要知道你的子类中必须实现和pay同名的方法'''</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError(<span class="string">'请在子类中重写同名pay方法'</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>用abc模块，约束实现。用装饰器的方式，约束子类。如果子类继承却未实现接口，那么子类就无法被实例化</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABCMeta,abstractmethod</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Payment</span><span class="params">(metaclass=ABCMeta)</span>:</span></span><br><span class="line"><span class="meta">    @abstractmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pay</span><span class="params">(self,money)</span>:</span></span><br><span class="line">        <span class="string">'''只要你见到了项目中有这种类,你要知道你的子类中必须实现和pay同名的方法'''</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError(<span class="string">'请在子类中重写同名pay方法'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Alipay</span><span class="params">(Payment)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pay</span><span class="params">(self,money)</span>:</span></span><br><span class="line">        dic = &#123;<span class="string">'uname'</span>:self.name,<span class="string">'price'</span>:money&#125;</span><br><span class="line">        <span class="comment"># 想办法调用支付宝支付 url连接 把dic传过去</span></span><br><span class="line">        print(<span class="string">'%s通过支付宝支      付%s钱成功'</span>%(self.name,money))</span><br></pre></td></tr></table></figure>

<blockquote>
<p>推荐用抛异常的方式，因为依赖abc模块有依赖性，如果abc模块没了，项目就跑不动了</p>
</blockquote>
<p><strong>鸭子类型</strong></p>
<p>我们把实现了一个类型的方法，叫做鸭子类型</p>
<p>如实现了<code>__iter__</code>、<code>__next__</code>叫做迭代器。就可以迭代。就是鸭子类型</p>
<p>如实现了<code>__len__</code>方法就可以调用<code>len()</code>就是鸭子类型                      </p>
<h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><h3 id="环境的准备"><a href="#环境的准备" class="headerlink" title="环境的准备"></a>环境的准备</h3><p>安装<a href="https://www.anaconda.com/distribution/#download-section" target="_blank" rel="noopener">anaconda</a>，直接取官网下载，然后一步一步安装即可。</p>
<p>安装jupyter直接<code>pip install jupyter</code>然后用<code>jupyter notebook</code>启动。</p>
<ul>
<li>Anaconda是一个集成环境（基于机器学习和数据分析的开发环境）<ul>
<li>基于浏览器的一种可视化开发工具：jupyter notebook</li>
<li>可以在指定目录的终端中录入jupyter notebook指令，然后启动服务。</li>
</ul>
</li>
<li>cell是分为不同模式的：<ul>
<li>Code:编写python代码</li>
<li>markDown：编写笔记</li>
</ul>
</li>
<li>快捷键：<ul>
<li>添加cell：a，b</li>
<li>删除cell：x</li>
<li>执行：shift+enter</li>
<li>tab：</li>
<li>切换cell的模式：<ul>
<li>m</li>
<li>y</li>
</ul>
</li>
<li>打开帮助文档：shift+tab</li>
</ul>
</li>
</ul>
<p>Anaconda的使用，Anaconda如果有菜单有图标就代表安装成功，命令行没有可能是环境没配</p>
<p>在Anaconda中启动jupyter无法选择路径，要在Environments-&gt;base(root)选择启动按钮–&gt;open Terminal，然后在终端打开</p>
<h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><p>爬虫：就是通过编写程序模拟浏览器上网，然后让其去互联网上爬取数据的过程<br>爬虫的分类：</p>
<ul>
<li>通用爬虫：抓取互联网中的一整张页面数据</li>
<li>聚焦爬虫：抓取页面中的局部数据</li>
<li>增量式爬虫：用来监测网站数据更新的情况，以便爬取到网站最新更新出来的数据<br>反爬机制<br>反反爬策略</li>
</ul>
<p>爬虫合法问题</p>
<ul>
<li><p>爬取数据的行为风险的体现：</p>
<ul>
<li>爬虫干扰了被访问网站的正常运营；</li>
<li>爬虫抓取了受到法律保护的特定类型的数据或信息。</li>
</ul>
</li>
<li><p>规避风险：</p>
<ul>
<li>严格遵守网站设置的robots协议；</li>
<li>在规避反爬虫措施的同时，需要优化自己的代码，避免干扰被访问网站的正常运行；</li>
<li>在使用、传播抓取到的信息时，应审查所抓取的内容，如发现属于用户的个人信息、隐私或者他人的商业秘密的，应及时停止并删除。<br>robots协议：文本协议</li>
</ul>
<blockquote>
<p>在网站<code>www.xxx.com/robots.txt</code>查看文本协议</p>
</blockquote>
</li>
</ul>
<p>robots协议特性：防君子不防小人的文本协议</p>
<h3 id="requests模块"><a href="#requests模块" class="headerlink" title="requests模块"></a>requests模块</h3><p>requests模块是Python中封装好的一个基于网络请求的模块。</p>
<p>requests模块可以用来模拟浏览器发请求</p>
<p>requests模块的环境安装：<code>pip install requests</code></p>
<p>requests模块的编码流程：</p>
<ul>
<li>1.指定url</li>
<li>2.发起请求</li>
<li>3.获取响应数据</li>
<li>4.持久化存储</li>
</ul>
<p>简单爬取搜狗</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#解决UA检测</span></span><br><span class="line">url = <span class="string">'https://www.sogou.com/web'</span></span><br><span class="line"><span class="comment">#实现参数动态化</span></span><br><span class="line">wd = input(<span class="string">'enter a key:'</span>)</span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="string">'query'</span>:wd<span class="comment">#指定携带的参数</span></span><br><span class="line">&#125;</span><br><span class="line">headers = &#123;<span class="comment">#请求头消息</span></span><br><span class="line">    <span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#在请求中需要将请求参数对应的字典作用到params这个get方法的参数中</span></span><br><span class="line">response = requests.get(url=url,params=params,headers=headers)</span><br><span class="line">response.encoding = <span class="string">'utf-8'</span> <span class="comment">#修改响应数据的编码格式</span></span><br><span class="line">page_text = response.text</span><br><span class="line">fileName = wd+<span class="string">'.html'</span></span><br><span class="line"><span class="keyword">with</span> open(fileName,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(page_text)</span><br></pre></td></tr></table></figure>

<ul>
<li>UA检测：门户网站通过检测请求载体的身份标识判定改请求是否为爬虫发起的请求</li>
<li>UA伪装：<code>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36</code></li>
</ul>
<p>在请求的页面搜索内容，如果没有对应内容。那么全球的内容应该是动态加载。直接全局搜索对应内容，找到ajax请求。然后分析请求</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#豆瓣爬取样例</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url = <span class="string">'https://movie.douban.com/j/chart/top_list'</span></span><br><span class="line">start = <span class="number">0</span><span class="comment">#input('您想从第几部电影开始获取:')</span></span><br><span class="line">limit = <span class="number">2000</span><span class="comment">#input('您想获取多少电影数据:')</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36'</span></span><br><span class="line">&#125;</span><br><span class="line">dic = &#123;</span><br><span class="line">    <span class="string">'type'</span>: <span class="string">'13'</span>,</span><br><span class="line">    <span class="string">'interval_id'</span>: <span class="string">'100:90'</span>,</span><br><span class="line">    <span class="string">'action'</span>: <span class="string">''</span>,</span><br><span class="line">    <span class="string">'start'</span>: start,</span><br><span class="line">    <span class="string">'limit'</span>: limit,</span><br><span class="line">&#125;</span><br><span class="line">response = requests.get(url=url,params=dic,headers=headers)</span><br><span class="line">page_text = response.json() <span class="comment">#json()返回的是序列化好的实例对象</span></span><br><span class="line"><span class="keyword">for</span> dic <span class="keyword">in</span> page_text:</span><br><span class="line">    print(dic[<span class="string">'title'</span>]+<span class="string">':'</span>+dic[<span class="string">'score'</span>])</span><br></pre></td></tr></table></figure>

<h3 id="数据解析"><a href="#数据解析" class="headerlink" title="数据解析"></a>数据解析</h3><p>数据解析的作用：</p>
<ul>
<li>可以帮助我们实现聚焦爬虫</li>
<li>数据解析的实现方式：<ul>
<li>正则</li>
<li>bs4</li>
<li>xpath：重点</li>
<li>pyquery：自己拓展，跟jq很像</li>
</ul>
</li>
</ul>
<p>数据解析的通用原理（聚焦爬虫爬取的数据都被存储在了相关的标签之中and相关标签的属性中）</p>
<ul>
<li>先定位标签</li>
<li>然后取文本或者取属性</li>
</ul>
<p>文件头</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#如何爬取图片</span></span><br><span class="line">url = <span class="string">'https://pic.qiushibaike.com/system/pictures/12223/122231866/medium/IZ3H2HQN8W52V135.jpg'</span></span><br><span class="line">img_data = requests.get(url,headers=headers).content <span class="comment">#byte类型数据</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'./img.jpg'</span>,<span class="string">'wb'</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(img_data)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#直接利用已有方法写到本地</span></span><br><span class="line"><span class="comment">#弊端：不能使用UA伪装</span></span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> request</span><br><span class="line">url = <span class="string">'https://pic.qiushibaike.com/system/pictures/12223/122231866/medium/IZ3H2HQN8W52V135.jpg'</span></span><br><span class="line">request.urlretrieve(url,filename=<span class="string">'./qiutu.jpg'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#糗图爬取1-3页所有的图片</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#1.使用通用爬虫将前3页对应的页面源码数据进行爬取</span></span><br><span class="line"><span class="comment">#通用的url模板(不可变)</span></span><br><span class="line">dirName = <span class="string">'./imgLibs'</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dirName):</span><br><span class="line">    os.mkdir(dirName)</span><br><span class="line">url = <span class="string">'https://www.qiushibaike.com/pic/page/%d/'</span></span><br><span class="line"><span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">4</span>):</span><br><span class="line">    new_url = format(url%page)</span><br><span class="line">    page_text = requests.get(new_url,headers=headers).text <span class="comment">#每一个页码对应的页面源码数据</span></span><br><span class="line">    <span class="comment">#在通用爬虫的基础上实现聚焦爬虫（每一个页码对应页面源码数据中解析出图片地址）</span></span><br><span class="line">    ex = <span class="string">'&lt;div class="thumb"&gt;.*?&lt;img src="(.*?)" alt.*?&lt;/div&gt;'</span></span><br><span class="line">    img_src_list = re.findall(ex,page_text,re.S)<span class="comment">#re.S忽略回车</span></span><br><span class="line">    <span class="keyword">for</span> src <span class="keyword">in</span> img_src_list:</span><br><span class="line">        src = <span class="string">'https:'</span>+src</span><br><span class="line">        img_name = src.split(<span class="string">'/'</span>)[<span class="number">-1</span>]</span><br><span class="line">        img_path = dirName+<span class="string">'/'</span>+img_name <span class="comment">#./imgLibs/xxxx.jpg</span></span><br><span class="line">        request.urlretrieve(src,filename=img_path)</span><br><span class="line">        print(img_name,<span class="string">'下载成功！！！'</span>)</span><br></pre></td></tr></table></figure>

<p>bs4解析</p>
<ul>
<li><p>bs4解析的原理：</p>
<ul>
<li>实例化一个BeautifulSoup的对象，需要将即将被解析的页面源码数据加载到该对象中</li>
<li>调用BeautifulSoup对象中的相关方法和属性进行标签定位和数据提取</li>
</ul>
</li>
<li><p>环境的安装：</p>
<ul>
<li><code>pip install bs4</code></li>
<li><code>pip install lxml</code></li>
</ul>
</li>
<li><p>BeautifulSoup的实例化：</p>
<ul>
<li>BeautifulSoup(fp,’lxml’):将本地存储的一个html文档中的数据加载到实例化好的BeautifulSoup对象中</li>
<li>BeautifulSoup(page_text,’lxml’):将从互联网上获取的页面源码数据加载到实例化好的BeautifulSoup对象中</li>
</ul>
</li>
<li><p>定位标签的操作：</p>
<ul>
<li>soup.tagName：定位到第一个出现的tagName标签</li>
<li>属性定位：soup.find(‘tagName’,attrName=’value’)</li>
<li>属性定位:soup.find_all(‘tagName’,attrName=’value’),返回值为列表</li>
<li>选择器定位：soup.select(‘选择器’)<ul>
<li>层级选择器：&gt;表示一个层级  空格表示多个层级</li>
</ul>
</li>
</ul>
</li>
<li><p>取文本</p>
<ul>
<li>.string:获取直系的文本内容，比如div包p标签再有内容无法获取，而text可以获取</li>
<li>.text:获取所有的文本内容</li>
</ul>
</li>
<li><p>取属性</p>
<ul>
<li>tagName[‘attrName’]</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#bs4解析定位样例</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">fp = open(<span class="string">'./test.html'</span>,<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">soup = BeautifulSoup(fp,<span class="string">'lxml'</span>)</span><br><span class="line">soup.div</span><br><span class="line">soup.find(<span class="string">'div'</span>,class_=<span class="string">'song'</span>)</span><br><span class="line">soup.find(<span class="string">'a'</span>,id=<span class="string">"feng"</span>)<span class="comment">#id属性就是id</span></span><br><span class="line">soup.find_all(<span class="string">'div'</span>,class_=<span class="string">"song"</span>)</span><br><span class="line">soup.select(<span class="string">'#feng'</span>)<span class="comment">#id为feng如果定位class则为.xxx</span></span><br><span class="line">soup.select(<span class="string">'.tang &gt; ul &gt; li'</span>)<span class="comment">#class为tang的标签下的ul下的li</span></span><br><span class="line">soup.select(<span class="string">'.tang li'</span>) <span class="comment">#class为tang属性下的li。li和tang可以隔多个标签</span></span><br><span class="line">a_tag = soup.select(<span class="string">'#feng'</span>)[<span class="number">0</span>]</span><br><span class="line">a_tag.text</span><br><span class="line">div = soup.div</span><br><span class="line">div.string</span><br><span class="line">div = soup.find(<span class="string">'div'</span>,class_=<span class="string">"song"</span>)<span class="comment">#因为class是关键字，这里就是class_</span></span><br><span class="line">div.string<span class="comment">#获取标签的</span></span><br><span class="line">a_tag = soup.select(<span class="string">'#feng'</span>)[<span class="number">0</span>]</span><br><span class="line">a_tag[<span class="string">'href'</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用bs4爬取</span></span><br><span class="line"><span class="comment">#爬取三国整篇内容（章节名称+章节内容）http://www.shicimingju.com/book/sanguoyanyi.html</span></span><br><span class="line">fp = open(<span class="string">'sanguo.txt'</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">main_url = <span class="string">'http://www.shicimingju.com/book/sanguoyanyi.html'</span></span><br><span class="line">page_text = requests.get(main_url,headers=headers).text</span><br><span class="line"><span class="comment">#解析出章节名称和章节详情页的url</span></span><br><span class="line">soup = BeautifulSoup(page_text,<span class="string">'lxml'</span>)</span><br><span class="line">a_list = soup.select(<span class="string">'.book-mulu &gt; ul &gt; li &gt; a'</span>) <span class="comment">#返回的列表中存储的是一个个a标签</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> a_list:</span><br><span class="line">    title = a.string</span><br><span class="line">    detail_url = <span class="string">'http://www.shicimingju.com'</span>+a[<span class="string">'href'</span>]</span><br><span class="line">    detail_page_text = requests.get(detail_url,headers=headers).text</span><br><span class="line">    <span class="comment">#解析详情页中的章节内容</span></span><br><span class="line">    soup = BeautifulSoup(detail_page_text,<span class="string">'lxml'</span>)</span><br><span class="line">    content = soup.find(<span class="string">'div'</span>,class_=<span class="string">'chapter_content'</span>).text</span><br><span class="line">    fp.write(title+<span class="string">':'</span>+content+<span class="string">'\n'</span>)</span><br><span class="line">    print(title,<span class="string">'下载成功！'</span>)</span><br><span class="line">fp.close()</span><br></pre></td></tr></table></figure>

<p>xpath解析</p>
<ul>
<li><p>xpath解析的实现原理</p>
<ul>
<li>1.实例化一个etree的对象，然后将即将被解析的页面源码加载到改对象中</li>
<li>2.使用etree对象中的xpath方法结合着不同形式的xpath表达式实现标签定位和数据提取</li>
<li>在xpath里，html会被解析为一个树</li>
</ul>
</li>
<li><p>环境安装：</p>
<ul>
<li><code>pip install lxml</code></li>
</ul>
</li>
<li><p>etree对象的实例化：</p>
<ul>
<li>etree.parse(‘test.html’)</li>
<li>etree.HTML(page_text)</li>
</ul>
</li>
<li><p>xpath表达式:xpath方法的返回值一定是一个列表</p>
<ul>
<li>最左侧的<code>/</code>表示：xpath表达式一定要从根标签逐层进行标签查找和定位</li>
<li>最左侧的<code>//</code>表示：xpath表达式可以从任意位置定位标签</li>
<li>非最左侧的<code>/</code>:表示一个层级</li>
<li>非最左侧的<code>//</code>：表示跨多个层级</li>
<li>属性定位：//tagName[@attrName=”value”]</li>
<li>索引定位：//tagName[index] 索引是从1开始</li>
</ul>
</li>
<li><p>取文本：</p>
<ul>
<li>/text():直系文本内容</li>
<li>//text():所有的文本内容</li>
</ul>
</li>
<li><p>取属性：</p>
<ul>
<li>/@attrName</li>
</ul>
</li>
</ul>
<p><strong>谷歌浏览器提供了复制xpath的功能</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#xpath使用示范</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">tree = etree.parse(<span class="string">'./test.html'</span>)<span class="comment">#xpath下都是列表，如果只有一个元素列表就一个元素</span></span><br><span class="line">tree.xpath(<span class="string">'/html/head/title'</span>)<span class="comment">#html标签下的head下的title</span></span><br><span class="line">tree.xpath(<span class="string">'//title'</span>)<span class="comment">#和/html/head/title一样</span></span><br><span class="line">tree.xpath(<span class="string">'/html/body//p'</span>)</span><br><span class="line">tree.xpath(<span class="string">'//p'</span>)</span><br><span class="line">tree.xpath(<span class="string">'//div[@class="song"]'</span>)<span class="comment">#属性定位</span></span><br><span class="line">tree.xpath(<span class="string">'//li[7]'</span>)<span class="comment">#找到li的第七个</span></span><br><span class="line">tree.xpath(<span class="string">'//a[@id="feng"]/text()'</span>)[<span class="number">0</span>]<span class="comment">#这是一个列表，0表示取第一个元素</span></span><br><span class="line">tree.xpath(<span class="string">'//div[@class="song"]//text()'</span>)</span><br><span class="line">tree.xpath(<span class="string">'//a[@id="feng"]/@href'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用xpath爬取糗百中的段子内容和作者名称</span></span><br><span class="line">url = <span class="string">'https://www.qiushibaike.com/text/'</span></span><br><span class="line">page_text = requests.get(url,headers=headers).text</span><br><span class="line"></span><br><span class="line"><span class="comment">#解析内容</span></span><br><span class="line">tree = etree.HTML(page_text)</span><br><span class="line">div_list = tree.xpath(<span class="string">'//div[@id="content-left"]/div'</span>)</span><br><span class="line"><span class="keyword">for</span> div <span class="keyword">in</span> div_list:</span><br><span class="line">    author = div.xpath(<span class="string">'./div[1]/a[2]/h2/text()'</span>)[<span class="number">0</span>]<span class="comment">#实现局部解析#点表示从改div的子标签开始，如果是/表示全局开始</span></span><br><span class="line">    content = div.xpath(<span class="string">'./a[1]/div/span//text()'</span>)</span><br><span class="line">    content = <span class="string">''</span>.join(content)</span><br><span class="line">    </span><br><span class="line">    print(author,content)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#乱码问题示例</span></span><br><span class="line"><span class="comment">#http://pic.netbian.com/4kmeinv/中文乱码的处理  </span></span><br><span class="line">dirName = <span class="string">'./meinvLibs'</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(dirName):</span><br><span class="line">    os.mkdir(dirName)</span><br><span class="line">url = <span class="string">'http://pic.netbian.com/4kmeinv/index_%d.html'</span></span><br><span class="line"><span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">11</span>):</span><br><span class="line">    <span class="keyword">if</span> page == <span class="number">1</span>:</span><br><span class="line">        new_url = <span class="string">'http://pic.netbian.com/4kmeinv/'</span> </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        new_url = format(url%page)</span><br><span class="line">    page_text = requests.get(new_url,headers=headers).text</span><br><span class="line">    tree = etree.HTML(page_text)</span><br><span class="line">    a_list = tree.xpath(<span class="string">'//div[@class="slist"]/ul/li/a'</span>)</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> a_list:</span><br><span class="line">        img_src = <span class="string">'http://pic.netbian.com'</span>+a.xpath(<span class="string">'./img/@src'</span>)[<span class="number">0</span>]</span><br><span class="line">        img_name = a.xpath(<span class="string">'./b/text()'</span>)[<span class="number">0</span>]</span><br><span class="line">        img_name = img_name.encode(<span class="string">'iso-8859-1'</span>).decode(<span class="string">'gbk'</span>)<span class="comment">#如果全部页面都编码浪费性能，这里就只编码了name。用iso这样通用的</span></span><br><span class="line">        img_data = requests.get(img_src,headers=headers).content</span><br><span class="line">        imgPath = dirName+<span class="string">'/'</span>+img_name+<span class="string">'.jpg'</span></span><br><span class="line">        <span class="keyword">with</span> open(imgPath,<span class="string">'wb'</span>) <span class="keyword">as</span> fp:</span><br><span class="line">            fp.write(img_data)</span><br><span class="line">            print(img_name,<span class="string">'下载成功！！！'</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用|提高通用性</span></span><br><span class="line"><span class="comment">#https://www.aqistudy.cn/historydata/所有城市名称</span></span><br><span class="line">page_text = requests.get(<span class="string">'https://www.aqistudy.cn/historydata/'</span>,headers=headers).text</span><br><span class="line">tree = etree.HTML(page_text)</span><br><span class="line"><span class="comment"># hot_cities = tree.xpath('//div[@class="bottom"]/ul/li/a/text()')</span></span><br><span class="line"><span class="comment"># all_cities = tree.xpath('//div[@class="bottom"]/ul/div[2]/li/a/text()')</span></span><br><span class="line">cities = tree.xpath(<span class="string">'//div[@class="bottom"]/ul/div[2]/li/a/text() | //div[@class="bottom"]/ul/li/a/text()'</span>) <span class="comment">#表示两种都可以，有哪一种就用哪一种。两者都有就用提高xpath的通用性</span></span><br><span class="line">cities</span><br></pre></td></tr></table></figure>

</div><div class="tags"><a href="/tags/python/"><i class="fa fa-tag"></i>python</a></div><div class="post-nav"><a class="pre" href="/2020/01/03/kafka%E7%AC%94%E8%AE%B0/">kafka笔记</a><a class="next" href="/2019/12/21/Spring-Boot%E7%AC%94%E8%AE%B0/">Spring Boot笔记</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://example.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Scala/" style="font-size: 15px;">Scala</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 15px;">并发</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/nosql/" style="font-size: 15px;">nosql</a> <a href="/tags/elasticsearch/" style="font-size: 15px;">elasticsearch</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/%E5%90%8E%E7%AB%AF/" style="font-size: 15px;">后端</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/scala/" style="font-size: 15px;">scala</a> <a href="/tags/Shell/" style="font-size: 15px;">Shell</a> <a href="/tags/Spark/" style="font-size: 15px;">Spark</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 15px;">大数据</a> <a href="/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/springsecurity/" style="font-size: 15px;">springsecurity</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/wordpress/" style="font-size: 15px;">wordpress</a> <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/marjora/" style="font-size: 15px;">marjora</a> <a href="/tags/virtualbox/" style="font-size: 15px;">virtualbox</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/bug/" style="font-size: 15px;">bug</a> <a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 15px;">服务器</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 15px;">算法</a> <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 15px;">机器学习</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 15px;">博客</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">计算机基础</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 15px;">爬虫</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 15px;">设计模式</a> <a href="/tags/%E6%B5%81%E7%A8%8B/" style="font-size: 15px;">流程</a> <a href="/tags/%E5%BC%80%E5%8F%91/" style="font-size: 15px;">开发</a> <a href="/tags/Flink/" style="font-size: 15px;">Flink</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/JVM/" style="font-size: 15px;">JVM</a> <a href="/tags/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/" style="font-size: 15px;">并发编程</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 15px;">前端</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 15px;">数据结构</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2021/07/06/Redis/">Redis</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/24/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/">Git笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/05/07/JVM/">JVM</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/04/27/%E7%88%AC%E8%99%AB/">爬虫</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/26/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/25/Git%E7%AC%94%E8%AE%B0/">Git笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/25/manjaro%E9%85%8D%E7%BD%AE%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/">manjaro配置开发环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/25/docker%E7%AC%94%E8%AE%B0/">docker笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/06/13/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a href="/." rel="nofollow">dian的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>